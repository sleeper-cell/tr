"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([["3238"],{57373:function(e,t,a){a.d(t,{K:()=>n});var r,n=((r={}).INITIATE="initiate",r.CLOSE="close",r)},43442:function(e,t,a){a.d(t,{W:()=>TransactionIcon});var r=a(71158),n=a(53200),i=a(99367),s=a(33929),l=a(67294),DocumentIcon=function(e){var t=e.width,a=e.height,r=e.colorClass;return l.createElement("svg",{className:r,fill:"none",width:null!=t?t:20,height:null!=a?a:20,viewBox:"0 0 ".concat(20," ").concat(20),xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.1665 2.5V17.5H15.8332V5.83333L12.4998 2.5H4.1665ZM6.6665 7.91667H13.3332V10H6.6665V7.91667ZM6.6665 12.0833H13.3332V14.1667H6.6665V12.0833Z",fill:"currentColor"}))},o=a(31856),c=a(78729),u=a(15244),m=a(78062),d=a(67294),TransactionIcon=function(e){var t,a=e.status,l=e.type;if("pending"===a)return d.createElement(u.$,{size:c.m.SMALL});switch(l){case m.k.Contract:case m.k.RegisterToken:case m.k.TrustLine:t=d.createElement(DocumentIcon,{colorClass:"text-iconNormal"});break;case m.k.Receive:t=d.createElement(n.v,{colorClass:"text-iconNormal"});break;case m.k.Send:t=d.createElement(i.H,{colorClass:"text-iconNormal"});break;case m.k.Swap:case m.k.Trade:t=d.createElement(o.l,{colorClass:"text-iconNormal"});break;case m.k.Delegate:case m.k.Undelegate:case m.k.Redelegate:case m.k.Claim:case m.k.ClaimRewards:t=d.createElement(r.H,{width:20,height:20,primaryColorClass:"text-iconNormal",secondaryColorClass:"text-iconNormal"});break;default:t=d.createElement(s.n,{colorClass:"text-iconNormal"})}return d.createElement("div",{className:"flex w-full justify-center items-center h-full bg-bg3 rounded-full"},t)}},30037:function(e,t,a){a.d(t,{x:()=>useEnhancedUnmount});var r=a(67294);function useEnhancedUnmount(e){(0,r.useEffect)(function(){return window.addEventListener("beforeunload",e),function(){e(),window.removeEventListener("beforeunload",e)}},[])}},92180:function(e,t,a){a.r(t),a.d(t,{default:()=>gas_station});var r,n,i,s=a(3959),l=a(96492),o=a(86896),c=a(89250),u=a(33010),m=a(56007),d=a(97509),h=a(67294),f=a(80584),y=a(57373),_=a(30037),g=a(43057),p=a(95776),E=((r={}).LOW="text-primary",r.MEDIUM="text-textBrand",r.HIGH="text-error",r),x={"text-primary":{dark:"#48FF91",light:"#0500ff"},"text-textBrand":{dark:"#F0B90B",light:"#C99400"},"text-error":{dark:"#E33B54",light:"#E33B54"}},C=((n={})[n.Coin=p.k$.Send]="Coin",n[n.Token=p.k$.Send]="Token",n[n.Swap=p.k$.Swap]="Swap",n[n.Dapp=p.k$.Contract]="Dapp",n),v=a(89438);function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function _array_with_holes(e){if(Array.isArray(e))return e}function _iterable_to_array_limit(e,t){var a,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(l)throw r}}return i}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _array_like_to_array(e,t)}}function useGasStation(e){var t=(0,g.CG)(function(e){return e.sdkFeatures.gasStation}),a=_sliced_to_array((0,h.useState)("text-primary"),2),r=a[0],n=a[1],i=(0,v.u)().currency;function cleanup(){d.Tl.emit(f.Z.GAS_STATION,{action:y.K.CLOSE})}return(0,h.useEffect)(function(){e&&d.Tl.emit(f.Z.GAS_STATION,{action:y.K.INITIATE,params:{assetId:e,currency:i}})},[e]),(0,h.useEffect)(function(){if(null==t?void 0:t.isSuccess)switch(null==t?void 0:t.status){case"Low":n(E.LOW);break;case"Medium":n(E.MEDIUM);break;case"High":n(E.HIGH)}},[t]),(0,_.x)(cleanup),(0,h.useMemo)(function(){return{gasStationState:t,gasStatusColor:r}},[t,r])}var b=a(69441),A=a(58093),S=a(14588),w=a(35181),T=a(67763),k=((i={}).INITIATE="initiate",i.UPDATE="update",i.CLOSE="close",i),G=a(96486),I=a(67294);function GasHistoryChart_array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function GasHistoryChart_array_with_holes(e){if(Array.isArray(e))return e}function _array_without_holes(e){if(Array.isArray(e))return GasHistoryChart_array_like_to_array(e)}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function GasHistoryChart_iterable_to_array_limit(e,t){var a,r,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(l)throw r}}return i}}function GasHistoryChart_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function GasHistoryChart_sliced_to_array(e,t){return GasHistoryChart_array_with_holes(e)||GasHistoryChart_iterable_to_array_limit(e,t)||GasHistoryChart_unsupported_iterable_to_array(e,t)||GasHistoryChart_non_iterable_rest()}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||GasHistoryChart_unsupported_iterable_to_array(e)||_non_iterable_spread()}function GasHistoryChart_unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return GasHistoryChart_array_like_to_array(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return GasHistoryChart_array_like_to_array(e,t)}}b.kL.register(b.uw,b.ST,b.jn,b.f$,b.od,b.Gu,S.Z);var _GasHistoryChart=function(e){var t,a,r=e.history,n=e.lowestLowFormatted,i=e.highestHighFormatted,s=e.gasStatusColor,l=GasHistoryChart_sliced_to_array((0,h.useState)(null),2),o=l[0],c=l[1],u=(0,h.useRef)(null),m=(0,T.I)().theme,y=(0,h.useRef)(void 0),_=(t=Math).min.apply(t,_to_consumable_array(r.yAxis)),g=(a=Math).max.apply(a,_to_consumable_array(r.yAxis)),p=r.yAxis.indexOf(_),E=r.yAxis.indexOf(g),getLabelAdjustment=function(e){switch(e){case r.xAxis.length-1:return -14;case 0:return 14;default:return 0}},C={plugins:{legend:{display:!1},title:{display:!0},tooltip:{enabled:!1},annotation:{clip:!1,annotations:{high:{type:"label",xValue:r.xAxis[E],yValue:g,color:"#848e9c",font:{size:12},content:[i],position:"center",yAdjust:-15,xAdjust:function(){return getLabelAdjustment(E)}},low:{type:"label",xValue:r.xAxis[p],yValue:_,color:"#848e9c",font:{size:12},content:[n],position:"center",yAdjust:15,xAdjust:function(){return getLabelAdjustment(p)}}}}},interaction:{mode:"index",intersect:!1},scales:{x:{display:!1},y:{display:!1}},elements:{point:{radius:0,hoverRadius:0}},layout:{padding:{top:20,bottom:20}}},v=(0,h.useMemo)(function(){return[{id:"intersect-x-line",afterDraw:function(e){if(e.getActiveElements().length){var t=e.ctx,a=e.chartArea,r=e.data.datasets[0].borderColor,n=e.data.datasets[0].backgroundColor,i=e.getActiveElements()[0];c(i),t.save(),t.beginPath(),t.moveTo(i.element.x,a.top),t.lineTo(i.element.x,a.bottom),t.lineWidth=1,t.setLineDash([3,3]),t.strokeStyle=r,t.stroke(),t.restore(),t.beginPath(),t.arc(i.element.x,i.element.y,5,0,2*Math.PI),t.fillStyle=r,t.fill(),t.lineWidth=2,t.strokeStyle=n,t.stroke(),t.restore();return}c(null)}}]},[]),b=(0,h.useCallback)((0,G.debounce)(function(e){d.Tl.emit(f.Z.GAS_STATION,{action:k.UPDATE,params:{index:e}})},100),[]),S=(0,h.useCallback)(function(e){y.current=e,b(e)},[b]);(0,h.useEffect)(function(){(null==o?void 0:o.index)!==y.current&&((null==o?void 0:o.index)!==void 0?S(o.index):null===o&&S(r.xAxis.length-1))},[o,S]),(0,h.useEffect)(function(){return function(){b.cancel()}},[b]);var w=(0,h.useMemo)(function(){var getGradient=function(e,t){var a=e.createLinearGradient(0,t.bottom,0,t.top);return a.addColorStop(1,"rgba(14, 203, 129, 0.25)"),a.addColorStop(0,"rgba(255, 246, 210, 0)"),a.addColorStop(0,"rgba(14, 203, 129, 0)"),a};return{labels:r.xAxis,datasets:[{data:null==r?void 0:r.yAxis,fill:!0,borderColor:x[s][m],backgroundColor:function(e){var t=e.chart,a=t.ctx,r=t.chartArea;if(r)return getGradient(a,r)},tension:.4}]}},[r,s,m]);return I.createElement(A.x1,{ref:u,data:w,options:C,plugins:v})},GasHistoryChart=function(e){return(null==e?void 0:e.history)?I.createElement(_GasHistoryChart,e):I.createElement(w.O,{isLoading:!0},I.createElement("div",{className:"w-full h-[200px]"}))},H=a(45653),N=a(19001),M=a(78155),R=a(35670),L=a(94314),D=a(67294),GasLevels=function(e){var t=e.low,a=e.medium,r=e.high,n=(0,o.Z)().formatMessage;return D.createElement("div",{className:"flex space-x-4 text-center"},D.createElement(N.Z,{theme:M.x.TRANSPARENT},D.createElement(H.x,{theme:R.W5.PRIMARY},n({id:"gas-station.fast",defaultMessage:"Fast"})),D.createElement(L.A,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!r},D.createElement(H.x,{theme:R.W5.SECONDARY},null==r?void 0:r.price)),D.createElement(L.A,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!r},D.createElement(H.x,{theme:R.W5.THIRD},null==r?void 0:r.time," ",n({id:"gas-station.minute".concat((null==r?void 0:r.time)!=="1"?"s":""),defaultMessage:"Minute".concat((null==r?void 0:r.time)!=="1"?"s":"")})))),D.createElement(N.Z,{theme:M.x.TRANSPARENT},D.createElement(H.x,{theme:R.W5.PRIMARY},n({id:"gas-station.average",defaultMessage:"Average"})),D.createElement(L.A,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!a},D.createElement(H.x,{theme:R.W5.SECONDARY},null==a?void 0:a.price)),D.createElement(L.A,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!a},D.createElement(H.x,{theme:R.W5.THIRD},null==a?void 0:a.time," ",n({id:"gas-station.minute".concat((null==a?void 0:a.time)!=="1"?"s":""),defaultMessage:"Minute".concat((null==a?void 0:a.time)!=="1"?"s":"")})))),D.createElement(N.Z,{theme:M.x.TRANSPARENT},D.createElement(H.x,{theme:R.W5.PRIMARY},n({id:"gas-station.safe",defaultMessage:"Safe"})),D.createElement(L.A,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!t},D.createElement(H.x,{theme:R.W5.SECONDARY},null==t?void 0:t.price)),D.createElement(L.A,{widthClass:"w-17.5",heightClass:"h-4",marginClass:"my-1",isLoading:!t},D.createElement(H.x,{theme:R.W5.THIRD},null==t?void 0:t.time," ",n({id:"gas-station.minute".concat((null==t?void 0:t.time)!=="1"?"s":""),defaultMessage:"Minute".concat((null==t?void 0:t.time)!=="1"?"s":"")})))))},O=a(67294),GasStationHeader=function(e){var t=e.currentGraphPrice,a=e.currentGraphValue,r=e.gasUnit,n=e.status,i=e.gasStatusColor,s=(0,o.Z)().formatMessage,l=!t||!a||!n;return O.createElement(O.Fragment,null,O.createElement(H.x,{type:R.Xi.CAPTION,theme:R.W5.THIRD},s({id:"gas-station.heading",defaultMessage:"Gas cost"})),O.createElement("div",{className:"flex justify-between items-center"},O.createElement("div",{className:"flex-col"},O.createElement(L.A,{widthClass:"w-22.5",heightClass:"h-9",marginClass:"mb-2",isLoading:l},O.createElement(H.x,{type:R.Xi.SCREAMER},t)),O.createElement(L.A,{widthClass:"w-22.5",heightClass:"h-4"},O.createElement(H.x,{type:R.Xi.SUBTITLE,theme:R.W5.THIRD},a," ",r))),O.createElement("span",{className:"inline-block h-full caption-text px-8 py-3 font-medium rounded bg-backgroundSecondary ".concat(i)},O.createElement(L.A,{widthClass:"w-7",heightClass:"h-5",isLoading:l},s({id:"gas-station-badge.".concat(n),defaultMessage:null==n?void 0:n.toUpperCase()})))))},P=a(43442),j=a(67294),GasEstimateTransaction=function(e){var t=e.range,a=e.fiatRange,r=e.type,n=(0,o.Z)().formatMessage;return j.createElement("div",{className:"flex items-center justify-between"},j.createElement("div",{className:"flex items-center space-x-2.5"},j.createElement("div",{className:"flex w-7.5 h-7.5 justify-center items-center"},j.createElement(P.W,{status:"confirmed",type:C[r]})),j.createElement(H.x,{testid:"tx-type"},n({id:"component.transaction-item.type.".concat(r),defaultMessage:{Dapp:"Dapp Interaction",Coin:"Transfer",Token:"Transfer",Swap:"Swap"}[r]}))),j.createElement("div",{className:"text-right"},j.createElement(H.x,null,t),j.createElement(H.x,{theme:R.W5.THIRD,type:R.Xi.CAPTION},a)))},W=a(67294),GasEstimates=function(e){var t=e.txs,a=(0,o.Z)().formatMessage;return W.createElement(W.Fragment,null,W.createElement("div",null,W.createElement(H.x,{type:R.Xi.CAPTION,theme:R.W5.THIRD},a({id:"gas-station.estimates.heading",defaultMessage:"Estimated transaction cost"}))),null==t?void 0:t.map(function(e){return W.createElement(GasEstimateTransaction,{key:e.type,range:e.range,fiatRange:e.fiatRange,type:e.type})}),!t&&W.createElement(L.A,{heightClass:"h-8"}))},Z=a(87889),U=a(15244),V=a(78729),F=a(67294);let gas_station=function(){var e=(0,c.UO)().assetId,t=(0,c.s0)(),a=(0,o.Z)().formatMessage,r=useGasStation(e),n=r.gasStationState,i=r.gasStatusColor,d=F.createElement("div",{className:"cursor-pointer",onClick:function(){return(0,u.DL)("https://support.trustwallet.com/en/support/solutions/articles/67000632070-what-are-network-fees-")}},F.createElement(m.s,null));return(null==n?void 0:n.isSuccess)?F.createElement(l._z,null,F.createElement(l.mr,{title:a({id:"gas-station.header",defaultMessage:"Gas Station"}),backAction:function(){return t("".concat(s.Z.ASSET,"/").concat(e))},infoAction:d}),F.createElement(l.xV,null,F.createElement(l.Wo,null,F.createElement("div",{className:"flex-col space-y-4 my-2.5 justify-center"},F.createElement(GasStationHeader,{currentGraphPrice:n.currentGraphPrice,currentGraphValue:n.currentGraphValue,gasUnit:n.energyUnit,status:n.status,gasStatusColor:i}),F.createElement(GasHistoryChart,{history:n.history,gasStatusColor:i,lowestLowFormatted:n.minGraphPrice,highestHighFormatted:n.maxGraphPrice}),F.createElement(GasLevels,{low:n.low,medium:n.medium,high:n.high}),F.createElement(GasEstimates,{txs:n.txs}))))):F.createElement(Z.M,null,F.createElement(U.$,{size:V.m.XLARGE}))}},80584:function(e,t,a){a.d(t,{Z:()=>n});var r=a(78817);let n={PREPARE_SEND:(0,r.Jp)("PrepareSend"),EARN:(0,r.Jp)("Earn"),STAKING_DETAILS:(0,r.Jp)("StakingDetails"),STAKE:(0,r.Jp)("Stake"),VALIDATOR_SELECT:(0,r.Jp)("ValidatorSelect"),GAS_STATUS:(0,r.Jp)("GasStatus"),GAS_STATION:(0,r.Jp)("GasStation")}}}]);