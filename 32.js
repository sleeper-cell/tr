"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([["32"],{82265:function(e,t,r){r.d(t,{b:()=>useMinMaxValidation});var n=r(55942),a=r(67294),o=r(86896);function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function _define_property(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterable_to_array_limit(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],l=!0,i=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(i)throw n}}return o}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_define_property(e,t,r[t])})}return e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _array_like_to_array(e,t)}}var validate=function(e){var t=e.value,r=e.min,a=e.max,o={number:!1,min:!1,max:!1};if(!t)return _object_spread_props(_object_spread({},o),{isValid:!1});try{var l=(0,n.Z)(t);o.number=!0,o.min=void 0===r||l.gte((0,n.Z)(r)),o.max=void 0===a||l.lte((0,n.Z)(a))}catch(e){}finally{return _object_spread_props(_object_spread({},o),{isValid:Object.values(o).every(function(e){return!!e})})}},useMinMaxValidation=function(e){var t=e.value,r=e.min,n=e.max,l=(0,o.Z)().formatMessage,i=_sliced_to_array((0,a.useState)({isValid:!1,number:!1,min:!1,max:!1}),2),s=i[0],c=i[1];(0,a.useEffect)(function(){c(_object_spread({},validate({value:t,min:r,max:n})))},[t,r,n]);var u=(0,a.useMemo)(function(){return s.number?s.min?s.max?void 0:l({id:"validate-amount.max"},{number:n}):l({id:"validate-amount.min"},{number:r}):l({id:"validate-amount.generic"})},[l,s,r]);return{isValid:s.isValid,error:u}}},3898:function(e,t,r){r.r(t),r.d(t,{default:()=>ea,App:()=>App});var n,a=r(89250),o=r(89460),l=r(64932),i=r(48990),s=r(3959),c=r(19568),u=r(20763),_=r(82265),d=r(23279),p=r.n(d),f=r(67294),m=r(86896),y=r(24747),b=r(65048),h=r(1599),v=r(97509),E=r(67294);function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array(e)}function asyncGeneratorStep(e,t,r,n,a,o,l){try{var i=e[o](l),s=i.value}catch(e){r(e);return}i.done?t(s):Promise.resolve(s).then(n,a)}function _async_to_generator(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function _next(e){asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)})}}function _define_property(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterable_to_array(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterable_to_array_limit(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],l=!0,i=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(i)throw n}}return o}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_define_property(e,t,r[t])})}return e}function useValidateAsset_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):useValidateAsset_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array(e)||_unsupported_iterable_to_array(e)||_non_iterable_spread()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _array_like_to_array(e,t)}}function _ts_generator(e,t){var r,n,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var w=(n=_async_to_generator(function(e){var t,r,n,a,o,l;return _ts_generator(this,function(i){switch(i.label){case 0:t=e.value,r=e.blockchain,n=e.blockchainType,a=e.isAddingTokenManually,i.label=1;case 1:return i.trys.push([1,4,,7]),[4,(0,h.G)({address:t,blockchain:r,blockchainType:n})];case 2:return o=i.sent(),[4,v.Tl.emit(y.Z.VALIDATE_ASSET,o)];case 3:return l=i.sent(),[2,{asset:o,isValid:l.global,intlErrorParams:l.global?null:[{id:"input-contract-address.validation.metadata"},{a:function(e){return E.createElement("a",{href:"https://support.trustwallet.com/support/home",target:"_blank",rel:"noopener nofollow noreferrer"},e)}}]}];case 4:if(i.sent(),!a)return[3,6];return[4,v.Tl.emit(b.Z.VALIDATE_CONTRACT_ADDRESS_FORMAT,{address:t,network:r})];case 5:return[2,{asset:null,isValid:i.sent(),intlErrorParams:[{id:"input-contract-address.validation.manual.wrong-address"},{}]}];case 6:return[2,{asset:null,isValid:!1,intlErrorParams:[{id:"input-contract-address.validation.not-found"},{networkName:r.name}]}];case 7:return[2]}})}),function(e){return n.apply(this,arguments)}),useValidateAsset=function(e){var t,r=e.value,n=e.blockchain,a=e.blockchainType,o=e.isAddingTokenManually,l=(0,m.Z)().formatMessage,i=_sliced_to_array((0,f.useState)({isValid:!1,isLoading:!1,asset:null}),2),s=i[0],c=i[1],u=(0,f.useRef)(!1),_=(0,f.useCallback)(p()((t=_async_to_generator(function(e){var t,r,n;return _ts_generator(this,function(i){switch(i.label){case 0:if(t=e.blockchain,r=e.value,u.current=!1,n={isValid:!1,asset:null},!r)return[3,2];return[4,w({value:r,blockchain:t,blockchainType:a,isAddingTokenManually:o})];case 1:n=i.sent(),i.label=2;case 2:if(u.current)return[2];return c(_object_spread_props(_object_spread({},n),{error:n.isValid||!n.intlErrorParams?void 0:l.apply(void 0,_to_consumable_array(n.intlErrorParams)),isLoading:!1})),[2]}})}),function(e){return t.apply(this,arguments)}),200),[w,l]);return(0,f.useEffect)(function(){return c(function(e){return _object_spread_props(_object_spread({},e),{isLoading:!0})}),_({blockchain:n,value:r}),function(){_.cancel(),u.current=!0}},[_,n,r]),s},g=r(55885),S=r(72492),A=r(84878),k=r(67911),O=r(65878),x=r(58533),T=r(71393),j=r(46856),N=r(97561),P=r(96492),C=r(78729),M=r(72263),D=r(45653),I=r(35670),R=r(92354),U=r(80003),V=r(12820),L=r(96786);function _assert_this_initialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _call_super(e,t,r){return t=_get_prototype_of(t),_possible_constructor_return(e,_is_native_reflect_construct()?Reflect.construct(t,r||[],_get_prototype_of(e).constructor):t.apply(e,r))}function _class_call_check(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _construct(e,t,r){return(_construct=_is_native_reflect_construct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&_set_prototype_of(a,r.prototype),a}).apply(null,arguments)}function _get_prototype_of(e){return(_get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_set_prototype_of(e,t)}function _is_native_function(e){return -1!==Function.toString.call(e).indexOf("[native code]")}function _possible_constructor_return(e,t){return t&&("object"===_type_of(t)||"function"==typeof t)?t:_assert_this_initialized(e)}function _set_prototype_of(e,t){return(_set_prototype_of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _type_of(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function _wrap_native_super(e){var t="function"==typeof Map?new Map:void 0;return(_wrap_native_super=function(e){if(null===e||!_is_native_function(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_get_prototype_of(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(Wrapper,e)})(e)}function _is_native_reflect_construct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_is_native_reflect_construct=function(){return!!e})()}var Z=function(e){function NetworkError(e){var t;return _class_call_check(this,NetworkError),(t=_call_super(this,NetworkError,[e])).name="NetworkError",Object.setPrototypeOf(t,NetworkError.prototype),t}return _inherits(NetworkError,e),NetworkError}(_wrap_native_super(Error)),W=r(33010),Y=r(24333),G=r(19001),F=r(78155),B=r(93281),z=r(85329),H=r(67294),AssetPreview=function(e){var t,r=e.asset,n=e.blockchain,a=(0,m.Z)().formatMessage;return H.createElement(G.Z,{theme:F.x.NEUTRAL,noPadding:!0},H.createElement("div",{className:"flex justify-between p-4 space-x-2 items-center"},H.createElement("div",null,H.createElement(T.C,{name:r.name,src:r.iconUrl,network:r.address?n:void 0})),H.createElement("div",{className:"flex flex-col flex-grow space-y-1"},H.createElement("div",{className:"flex flex-row space-x-1"},H.createElement("div",null,H.createElement(D.x,{type:I.Xi.SUBHEADER_16,testid:"custom-asset-asset-name"},r.name)),H.createElement("div",null,r.type&&H.createElement(B.V,{size:z.c.SMALL,theme:z.B.SECONDARY,testid:"custom-asset-asset-type"},r.type))),H.createElement("div",null,H.createElement(D.x,{type:I.Xi.SUBHEADER_14,theme:I.W5.UTILITY_1_OPACITY_1,weight:I.kx.NORMAL,testid:"custom-asset-asset-network-name"},null!=(t=n.displayName)?t:n.name))),H.createElement("div",{className:"flex flex-col space-y-1 text-right"},H.createElement("div",null,H.createElement(D.x,{type:I.Xi.SUBHEADER_16,testid:"custom-asset-asset-symbol"},r.symbol)),H.createElement("div",null,H.createElement(D.x,{type:I.Xi.SUBHEADER_14,theme:I.W5.UTILITY_1_OPACITY_1,weight:I.kx.NORMAL,testid:"custom-asset-asset-decimals"},a({id:"input-contract-address.decimals"},{decimals:r.decimals}))))))},X=r(67294);function add_asset_array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function add_asset_array_with_holes(e){if(Array.isArray(e))return e}function add_asset_asyncGeneratorStep(e,t,r,n,a,o,l){try{var i=e[o](l),s=i.value}catch(e){r(e);return}i.done?t(s):Promise.resolve(s).then(n,a)}function add_asset_async_to_generator(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function _next(e){add_asset_asyncGeneratorStep(o,n,a,_next,_throw,"next",e)}function _throw(e){add_asset_asyncGeneratorStep(o,n,a,_next,_throw,"throw",e)}_next(void 0)})}}function add_asset_iterable_to_array_limit(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],l=!0,i=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(i)throw n}}return o}}function add_asset_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_without_properties(e,t){if(null==e)return{};var r,n,a=_object_without_properties_loose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _object_without_properties_loose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function add_asset_sliced_to_array(e,t){return add_asset_array_with_holes(e)||add_asset_iterable_to_array_limit(e,t)||add_asset_unsupported_iterable_to_array(e,t)||add_asset_non_iterable_rest()}function add_asset_unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return add_asset_array_like_to_array(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return add_asset_array_like_to_array(e,t)}}function add_asset_ts_generator(e,t){var r,n,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var AddAsset=function(){var e,t,r=(0,a.UO)(),n=r.blockchainId,d=r.blockchainType,p=r.contractAddress,h=(0,c.z)().trackAnalytics;if(!n)throw Error("Blockchain id is invalid.");if(!d)throw Error("Blockchain type is invalid.");var E=(0,V.R)(),w=(0,L.$)(),G=(0,f.useMemo)(function(){return(0,o.Sb)(n,d===U.F.CUSTOM,E,w)},[n,d,E,w]);if(!G)throw Error('Could not find network with blockchain ID "'.concat(n,'".'));var F=(0,m.Z)().formatMessage,B=(0,a.s0)(),z=add_asset_sliced_to_array((0,f.useState)(!1),2),H=z[0],K=z[1],$=add_asset_sliced_to_array((0,f.useState)(null!=p?p:""),2),q=$[0],J=$[1],Q=add_asset_sliced_to_array((0,f.useState)(""),2),ee=Q[0],et=Q[1],er=add_asset_sliced_to_array((0,f.useState)(""),2),en=er[0],ea=er[1],eo=add_asset_sliced_to_array((0,f.useState)(""),2),el=eo[0],ei=eo[1],es=add_asset_sliced_to_array((0,f.useState)(""),2),ec=es[0],eu=es[1],e_=add_asset_sliced_to_array((0,f.useState)({decimals:!1}),2),ed=e_[0],ep=e_[1],ef=add_asset_sliced_to_array((0,f.useState)(),2),em=ef[0],ey=ef[1],eb=location.href.includes("manual");(0,u.d)({event:eb?i.pG.CUSTOM_ASSET_ADD_ASSET_MANUALLY:i.pG.CUSTOM_ASSET_ADD_ASSET,props:null});var eh=(0,Y.a)({queryKey:["tokens-map"],queryFn:function(){return v.Tl.emit(b.Z.FETCH_TOKEN_TYPES)}}).data,ev=(0,f.useMemo)(function(){return new Map(Object.entries(eh||[]).filter(function(e){var t=add_asset_sliced_to_array(e,2);return t[0],t[1],!0}))},[eh]).get(n),eE=useValidateAsset({value:q,blockchain:G,blockchainType:d,isAddingTokenManually:eb}),ew=eE.asset,eg=_object_without_properties(eE,["asset"]),eS=(0,g.J)({value:en}),eA=(0,g.J)({value:el}),ek=(0,_.b)({value:ec,min:0,max:32}),eO=eb?eg.isValid&&eS.isValid&&eA.isValid&&ek.isValid&&(!ev||!!em):eg.isValid,ex=(0,f.useMemo)(function(){if(eb)return{name:en,symbol:el,decimals:parseInt(ec),blockchainId:G.id,address:q,balance:"0",isShownInHomeScreen:!0,isUserCustomAsset:!0,assetId:(0,R.TN)({coinId:G.coinId,address:q})||"",type:null==em?void 0:em.id}},[eb,en,el,ec,G,q,null==em?void 0:em.id]),eT=(0,f.useCallback)((e=add_asset_async_to_generator(function(e){var t;return add_asset_ts_generator(this,function(r){switch(r.label){case 0:if(e.preventDefault(),!ew&&!ex)return[2];K(!0),et(""),r.label=1;case 1:return r.trys.push([1,3,4,5]),t=eb?ex:ew,[4,v.Tl.emit(y.Z.ADD_ASSET,{asset:t,blockchainType:d})];case 2:return r.sent(),h({event:i.ih.ADD_CUSTOM_ASSET,props:{pageViewSource:eb?i.pG.CUSTOM_ASSET_ADD_ASSET_MANUALLY:i.pG.CUSTOM_ASSET_ADD_ASSET,assetName:t.name,assetId:t.assetId,blockchainId:t.blockchainId}}),B(s.Z.DEFAULT),[3,5];case 3:return et(r.sent().name===Z.name?"generic.network-error":"add-asset.register-error"),[3,5];case 4:return K(!1),[7];case 5:return[2]}})}),function(t){return e.apply(this,arguments)}),[ew,d,eb,ex,B,h]),ej=(t=add_asset_async_to_generator(function(){return add_asset_ts_generator(this,function(e){switch(e.label){case 0:return[4,(0,W.YQ)("".concat(s.Z.CUSTOM_ASSET_ADD_ASSET,"/").concat(d,"/").concat(G.id,"/manual/").concat(q))];case 1:return e.sent(),[2]}})}),function(){return t.apply(this,arguments)});return(0,f.useEffect)(function(){ew&&(ea(ew.name),ei(ew.symbol),eu(String(ew.decimals)),ep({decimals:!0}))},[ew]),X.createElement(P._z,null,!eb&&X.createElement(P.mr,{backAction:function(){return B(-1)},title:F({id:"add-custom-asset.title"})}),X.createElement(P.xV,null,eb&&X.createElement("div",{className:"flex my-11 justify-center"},X.createElement(l.Y,null)),X.createElement("div",{className:"flex h-full flex-col flex-1 ".concat(eb?"bg-backgroundPrimary border border-line rounded p-6":"")},eb&&X.createElement("div",{className:"text-center"},X.createElement(D.x,{type:I.Xi.HEADLINE},F({id:"add-custom-asset.title"}))),X.createElement("div",{className:"flex flex-col items-center space-y-1 pt-2"},X.createElement(T.C,{name:G.name,src:G.iconUrl,size:C.m.LARGE}),X.createElement(D.x,{theme:I.W5.SECONDARY,weight:I.kx.NORMAL},F({id:"generic.on-network"},{networkName:G.displayName||G.name}))),X.createElement("div",{className:"flex flex-col space-y-6 mt-6"},X.createElement("div",null,X.createElement(j.o,{testid:"custom-asset-address-input",value:q,onChange:function(e){et(""),J(e.target.value.trim()),ep({decimals:!1})},validation:eg,placeholder:F({id:"input-contract-address.label"}),autoFocus:!0})),eb&&X.createElement(X.Fragment,null,!!ev&&X.createElement(M.P,{testid:"custom-asset-type-select",label:F({id:"custom-asset.token-type"}),selected:null!=em?em:{id:Object.entries(ev)[0][0],name:Object.entries(ev)[0][1].name},setSelected:function(e){return ey(e)},options:Object.entries(ev).map(function(e){var t,r=add_asset_sliced_to_array(e,2),n=r[0];return{id:n,name:null!=(t=r[1].name)?t:n}})}),X.createElement("div",null,X.createElement(j.o,{testid:"custom-asset-name-input",value:en,onChange:function(e){return ea(e.target.value)},label:F({id:"custom-asset.token-name"}),validation:eS})),X.createElement("div",null,X.createElement(j.o,{testid:"custom-asset-symbol-input",value:el,onChange:function(e){return ei(e.target.value)},label:F({id:"custom-asset.token-symbol"}),validation:eA})),X.createElement("div",null,X.createElement(j.o,{disabled:ed.decimals,readOnly:ed.decimals,testid:"custom-asset-decimals-input",value:ec,type:N.rC.NUMBER,onChange:function(e){return eu(e.target.value)},label:F({id:"custom-asset.token-decimals"}),validation:ek}))),!eb&&eg.isValid&&ew&&X.createElement("div",{className:"flex flex-col items-center -mt-3"},X.createElement("div",{className:"flex flex-col mb-4 *:-mb-[18px]"},X.createElement(x.v,{width:24,height:24,colorClass:"text-utility-1-opacity-3"}),X.createElement(x.v,{width:24,height:24,colorClass:"text-utility-1-opacity-2"}),X.createElement(x.v,{width:24,height:24,colorClass:"text-utility-1-opacity-1"})),X.createElement("div",{className:"pb-3"},X.createElement(D.x,{weight:I.kx.NORMAL,theme:I.W5.UTILITY_1_OPACITY_1},F({id:"input-contract-address.confirmation"}))),X.createElement("div",{className:"w-full"},X.createElement(AssetPreview,{asset:ew,blockchain:G})))),X.createElement("div",{className:"flex justify-end flex-1 flex-col space-y-4 pt-6"},X.createElement(S.b,{theme:A.q.WARNING},F({id:"add-asset.warning"},{b:function(e){return X.createElement("span",{className:"font-medium"},e)}})),ee&&X.createElement(S.b,{theme:A.q.ERROR},F({id:ee})),!eb&&q&&X.createElement(k.z,{testid:"custom-asset-add-token-manually-button",theme:O.jM.TRANSPARENT,onClick:ej},X.createElement(D.x,{theme:I.W5.PRIMARY_DEFAULT,type:I.Xi.SUBHEADER_16},F({id:"add-asset.btn-add-token-manually"}))),X.createElement(k.z,{testid:"custom-asset-add-token-button",onClick:eT,disabled:!eO,loading:H||eg.isLoading},F({id:"add-asset.btn-add-asset"}))))))},K=r(53099),$=r(96313),q=r(26086),J=r(26007),Q=r(67294),NetworkRow=function(e){var t=e.name,r=e.iconUrl,n=e.onClick;return Q.createElement(q.e,{onClick:n},Q.createElement("div",{className:"flex items-center justify-between py-2 px-4"},Q.createElement("div",{className:"flex items-center space-x-3"},Q.createElement(T.C,{name:t,src:r,size:C.m.MEDIUM,abstractFallback:!0}),Q.createElement(D.x,{type:I.Xi.SUBHEADER_16},t)),Q.createElement("div",null,Q.createElement(J.X,{width:20,height:20,colorClass:"text-utility-1-opacity-1"}))))},ee=r(81242),et=r(67294),NetworkList=function(){var e=(0,a.s0)();(0,m.Z)().formatMessage;var t=(0,K.Z)(),r=(0,V.R)(!0),n=(0,L.$)(!0),o=(0,ee.x)()[t.id],l=(0,f.useCallback)(function(e){return!!o[e]},[o]),i=(0,f.useMemo)(function(){return r.filter(function(e){var r=t.type!==$.S.HARDWARE&&t.type!==$.S.PRIVATE_KEY,n=l(e.coinId);return(r||n)&&e.customTokensEnabled})},[r,t.type,l]);return et.createElement("div",{className:"space-y-4"},i.map(function(t){var r;return et.createElement(NetworkRow,{key:t.id,name:null!=(r=t.displayName)?r:t.name,iconUrl:t.iconUrl,onClick:function(){return e("".concat(s.Z.CUSTOM_ASSET_ADD_ASSET,"/").concat(U.F.MAIN,"/").concat(t.id))}})}),n.map(function(t){var r;return et.createElement(NetworkRow,{key:t.id,name:null!=(r=t.displayName)?r:t.name,iconUrl:t.iconUrl,onClick:function(){return e("".concat(s.Z.CUSTOM_ASSET_ADD_ASSET,"/").concat(U.F.CUSTOM,"/").concat(t.id))}})}))},er=r(67294),SelectNetwork=function(){(0,u.d)({event:i.pG.CUSTOM_ASSET_SELECT_NETWORK,props:null});var e=(0,m.Z)().formatMessage,t=(0,a.s0)(),r=(0,f.useCallback)(function(){t(s.Z.MANAGE_CRYPTO)},[t]);return er.createElement(P._z,null,er.createElement(P.mr,{backAction:r,title:e({id:"network.header"})}),er.createElement(P.xV,null,er.createElement(P.Wo,null,er.createElement(NetworkList,null))))},en=r(67294),App=function(){return en.createElement(a.Z5,null,en.createElement(a.AW,{path:"/select-network",element:en.createElement(SelectNetwork,null)}),en.createElement(a.AW,{path:"/add-asset/:blockchainType/:blockchainId",element:en.createElement(AddAsset,null)}),en.createElement(a.AW,{path:"/add-asset/:blockchainType/:blockchainId/manual/:contractAddress?",element:en.createElement(AddAsset,null)}))};let ea=App},72263:function(e,t,r){r.d(t,{P:()=>Select});var n=r(33929),a=r(58533),o=r(45653),l=r(35670),i=r(89018),s=r(30858),c=r(67294),Select=function(e){var t=e.options,r=e.selected,u=e.setSelected,_=e.label,d=e.testid;return c.createElement("div",{className:"w-full"},_&&c.createElement(o.x,null,_),c.createElement(s.Ri,{value:r,by:"id",onChange:u},c.createElement("div",{className:"relative w-full mt-1"},c.createElement(s.Y4,{"data-testid":d,className:"relative w-full cursor-default input-field title-text font-medium h-12"},c.createElement("span",{className:"block truncate"},r.name),c.createElement("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},c.createElement(a.v,{colorClass:"text-iconNormal"}))),c.createElement(i.u,{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.createElement(s.O_,{as:"ul",className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded bg-bg3 py-1 shadow-lg focus:outline-none"},t.map(function(e){return c.createElement(s.wt,{as:"li","data-testid":"".concat(d,"-option"),key:e.id,className:"relative cursor-default select-none px-4 py-2",value:e},function(t){var r=t.selected;return c.createElement("div",{className:"flex items-center space-x-2"},c.createElement("div",{className:"flex flex-1"},c.createElement(o.x,{type:l.Xi.TITLE,theme:r?l.W5.BRAND:l.W5.PRIMARY,truncated:!0},e.name)),r&&c.createElement("div",null,c.createElement(n.n,{colorClass:"text-primary"})))})}))))))}}}]);