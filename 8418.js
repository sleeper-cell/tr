"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([["8418"],{90738:function(e,t,n){n.d(t,{Z:()=>i});var r=n(67294),extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function throttle(e,t,n,r){var o,l=!1,i=0;function clearExistingTimeout(){o&&clearTimeout(o)}function cancel(){clearExistingTimeout(),l=!0}function wrapper(){var a=this,s=Date.now()-i,c=arguments;function exec(){i=Date.now(),n.apply(a,c)}function clear(){o=void 0}l||(r&&!o&&exec(),clearExistingTimeout(),void 0===r&&s>e?exec():!0!==t&&(o=setTimeout(r?clear:exec,void 0===r?e-s:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),wrapper.cancel=cancel,wrapper}var o={Pixel:"Pixel",Percent:"Percent"},l={unit:o.Percent,value:.8};function parseThreshold(e){return"number"==typeof e?{unit:o.Percent,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:o.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:o.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),l):(console.warn("scrollThreshold should be string or number"),l)}let i=function(e){function InfiniteScroll(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"==typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){!n.lastScrollTop&&(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){if(n.dragging)e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>1.5*n.maxPullDownDistance)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)"))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(e){"function"==typeof n.props.onScroll&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(e)},0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=throttle(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return __extends(InfiniteScroll,e),InfiniteScroll.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},InfiniteScroll.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},InfiniteScroll.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},InfiniteScroll.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?__assign(__assign({},t),{prevDataLength:e.dataLength}):null},InfiniteScroll.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=parseThreshold(t);return r.unit===o.Pixel?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},InfiniteScroll.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=parseThreshold(t);return r.unit===o.Pixel?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},InfiniteScroll.prototype.render=function(){var e=this,t=__assign({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return r.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},r.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&r.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},r.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},InfiniteScroll}(r.Component)},88037:function(e,t,n){n.r(t),n.d(t,{default:()=>nft_collection});var r=n(2354),o=n(3959),l=n(558),i=n(26086),a=n(78729),s=n(15244),c=n(45653),u=n(35670),h=n(90738),p=n(67294),NFTList=function(e){var t=e.nfts,n=e.loadMoreItems,r=e.hasNextPage,o=e.onClick,d=window.innerHeight-38-16-16;return p.createElement(h.Z,{dataLength:t.length,next:n,height:d,className:"tw-scrollbar",hasMore:!!r,loader:p.createElement("div",{className:"flex items-center justify-center py-4"},p.createElement(s.$,{size:a.m.LARGE}))},p.createElement("div",{className:"grid grid-cols-3 gap-4"},t.map(function(e,t){return p.createElement(i.e,{key:t,onClick:function(){return o(e.id)},testid:"nft-collection-item"},p.createElement("div",{className:"text-center"},p.createElement("div",{className:"md:w-[7rem] md:h-[7rem] w-[6rem] h-[6rem]"},p.createElement(l.t,{mainMedia:e.previewImageURL,fallbackMedia:e.originalMediaURL,name:e.name,asListItem:!0})),p.createElement("div",{className:"md:w-[7rem] w-[6rem]"},p.createElement(c.x,{type:u.Xi.SUBTITLE,truncated:!0},e.name))))})))},d=n(87889),f=n(96492),m=n(97509),_={COLLECTION_NFTS_REQUESTED:(0,n(78817).Jp)("CollectionNFTsRequested")},g=n(9984),v=n(67294),E=n(22522),y=n(43057),useNFTCollectionBreakdown=function(e){var t=(0,y.CG)(function(e){return e.nft.nfts}),n=(0,E.g)(),r=t[e];return(0,v.useMemo)(function(){var t;return{total:null!=(t=null==r?void 0:r.items)?t:[],reported:n.includes(e)}},[e,r,n])},T=n(71548),b=n(86896),w=n(89250),S=n(79655),L=n(14056),x=n(20763),C=n(48990),O=n(72953),k=n(67294);function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _array_with_holes(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,n,r,o,l,i){try{var a=e[l](i),s=a.value}catch(e){n(e);return}a.done?t(s):Promise.resolve(s).then(r,o)}function _async_to_generator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var l=e.apply(t,n);function _next(e){asyncGeneratorStep(l,r,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(l,r,o,_next,_throw,"throw",e)}_next(void 0)})}}function _iterable_to_array_limit(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var l=[],i=!0,a=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return l}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(e,t)}}function _ts_generator(e,t){var n,r,o,l,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function verb(e){return function(t){return step([e,t])}}function step(l){if(n)throw TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}let nft_collection=function(){var e=(0,w.s0)(),t=(0,b.Z)().formatMessage,n=(0,w.UO)().collectionId,l=_sliced_to_array((0,S.lr)(),1)[0],i=l.get("loadCachedItems"),c=l.get("initPage"),u=l.get(L.OriginParam.key),h=_sliced_to_array((0,v.useState)(!i),2),p=h[0],E=h[1],y=_sliced_to_array((0,v.useState)(c?parseInt(c):0),2),D=y[0],N=y[1],P=_sliced_to_array((0,v.useState)(!1),2),I=P[0],M=P[1];if(!n)throw Error("Collection Id is missing.");var R=(0,g.C)(n);if(!R)throw Error('Could not find collection for collectionId "'.concat(n,'"'));var A=useNFTCollectionBreakdown(n),F=A.total,Y=A.reported;(0,x.d)({event:C.pG.NFT_COLLECTION,props:{collectionName:R.name,reported:Y}});var navigateBack=function(){return e(u===L.OriginParam.value?o.Z.NFT_REPORTED_COLLECTIONS:o.Z.DEFAULT,u===L.OriginParam.value?void 0:{state:{activeTab:O.n0.NFT}})},B=(0,v.useCallback)(function(t){e("".concat(o.Z.NFT_COLLECTIONS,"/").concat(n,"/nfts/").concat(t,"?initPage=").concat(I?D+1:0).concat(u===L.OriginParam.value?"&".concat(L.OriginParam.key,"=").concat(L.OriginParam.value):""))},[n,I,u,D,e]),U=(0,v.useCallback)(function(){return N(function(e){return e+1})},[]);return((0,v.useEffect)(function(){(!i||D>0)&&_async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:return[4,m.Tl.emit(_.COLLECTION_NFTS_REQUESTED,{collectionId:n,page:D})];case 1:return M(e.sent().hasNextPage),[2]}})})().catch(T.G1).finally(function(){return E(!1)})},[n,i,D]),p)?k.createElement(f._z,null,k.createElement(f.mr,{backAction:navigateBack,title:R.name}),k.createElement(f.xV,null,k.createElement(d.M,null,k.createElement("div",null,k.createElement(s.$,{size:a.m.XLARGE}))))):0===F.length?k.createElement(f._z,null,k.createElement(f.mr,{backAction:navigateBack,title:R.name}),k.createElement(f.xV,null,k.createElement(r.r,{title:t({id:"nft-collection.nothing-bought"}),action:{label:t({id:"generic.receive"}),handler:function(){return e(o.Z.RECEIVE)}}}))):k.createElement(f._z,null,k.createElement(f.mr,{title:R.name,backAction:navigateBack}),k.createElement(f.xV,null,k.createElement(NFTList,{nfts:F,onClick:B,hasNextPage:I,loadMoreItems:U})))}},14056:function(e,t,n){n.r(t),n.d(t,{OriginParam:()=>d,default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(63233),o=n(2354),l=n(3959),i=n(20763),a=n(96492),s=n(48990),c=n(19818),u=n(86896),h=n(89250),p=n(67294),d={key:"origin",value:"reported"};let __WEBPACK_DEFAULT_EXPORT__=function(){(0,i.d)({event:s.pG.NFT_REPORTED_COLLECTIONS,props:null});var e=(0,h.s0)(),t=(0,u.Z)().formatMessage,n=(0,c.L)().reportedItems;return 0===n.length?p.createElement(a._z,null,p.createElement(a.mr,{title:t({id:"nft-reported-collections.hidden-collections"}),backAction:function(){return e("".concat(l.Z.DEFAULT))}}),p.createElement(a.xV,null,p.createElement(o.r,{title:t({id:"nft-collection.nothing-hidden"}),testid:"no-nfts-hidden"}))):p.createElement(a._z,null,p.createElement(a.mr,{title:t({id:"nft-reported-collections.hidden-collections"}),backAction:function(){return e("".concat(l.Z.DEFAULT))}}),p.createElement(a.xV,null,p.createElement(a.Wo,null,p.createElement(r.z,{collections:n,onClick:function(t){e("".concat(l.Z.NFT_COLLECTIONS,"/").concat(t.id,"?").concat(d.key,"=").concat(d.value))}}))))}},9984:function(e,t,n){n.d(t,{C:()=>useNFTCollection});var r=n(67294),o=n(45969),useNFTCollection=function(e){var t=(0,o.x)();return(0,r.useMemo)(function(){return t.find(function(t){return t.id===e})},[e,t])}}}]);