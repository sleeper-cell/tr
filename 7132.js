"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([["7132"],{14588:function(e,t,o){o.d(t,{Z:()=>v});var n=o(69441),i=o(29020);let r={modes:{point:(e,t)=>filterElements(e,t,{intersect:!0}),nearest:(e,t,o)=>getNearestItem(e,t,o),x:(e,t,o)=>filterElements(e,t,{intersect:o.intersect,axis:"x"}),y:(e,t,o)=>filterElements(e,t,{intersect:o.intersect,axis:"y"})}};function getElements(e,t,o){return(r.modes[o.mode]||r.modes.nearest)(e,t,o)}function inRangeByAxis(e,t,o){return"x"!==o&&"y"!==o?e.inRange(t.x,t.y,"x",!0)||e.inRange(t.x,t.y,"y",!0):e.inRange(t.x,t.y,o,!0)}function getPointByAxis(e,t,o){return"x"===o?{x:e.x,y:t.y}:"y"===o?{x:t.x,y:e.y}:t}function filterElements(e,t,o){return e.filter(e=>o.intersect?e.inRange(t.x,t.y):inRangeByAxis(e,t,o.axis))}function getNearestItem(e,t,o){let n=Number.POSITIVE_INFINITY;return filterElements(e,t,o).reduce((e,r)=>{let a=getPointByAxis(t,r.getCenterPoint(),o.axis),l=(0,i.aE)(t,a);return l<n?(e=[r],n=l):l===n&&e.push(r),e},[]).sort((e,t)=>e._index-t._index).slice(0,1)}function rotated(e,t,o){let n=Math.cos(o),i=Math.sin(o),r=t.x,a=t.y;return{x:r+n*(e.x-r)-i*(e.y-a),y:a+i*(e.x-r)+n*(e.y-a)}}let isOlderPart=(e,t)=>t>e||e.length>t.length&&e.slice(0,t.length)===t,clamp=(e,t,o)=>Math.min(o,Math.max(t,e)),inLimit=(e,t)=>e.value>=e.start-t&&e.value<=e.end+t;function clampAll(e,t,o){for(let n of Object.keys(e))e[n]=clamp(e[n],t,o);return e}function inPointRange(e,t,o,n){return!!e&&!!t&&!(o<=0)&&Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(o+n,2)}function inBoxRange(e,{x:t,y:o,x2:n,y2:i},r,{borderWidth:a,hitTolerance:l}){let s=(a+l)/2,d=e.x>=t-s-.001&&e.x<=n+s+.001,u=e.y>=o-s-.001&&e.y<=i+s+.001;return"x"===r?d:"y"===r?u:d&&u}function inLabelRange(e,{rect:t,center:o},n,{rotation:r,borderWidth:a,hitTolerance:l}){return inBoxRange(rotated(e,o,(0,i.t)(-r)),t,n,{borderWidth:a,hitTolerance:l})}function getElementCenterPoint(e,t){let{centerX:o,centerY:n}=e.getProps(["centerX","centerY"],t);return{x:o,y:n}}function requireVersion(e,t,o,n=!0){let i=o.split("."),r=0;for(let a of t.split(".")){let l=i[r++];if(parseInt(a,10)<parseInt(l,10))break;if(isOlderPart(l,a))if(!n)return!1;else throw Error(`${e} v${o} is not supported. v${t} or newer is required.`)}return!0}let isPercentString=e=>"string"==typeof e&&e.endsWith("%"),toPercent=e=>parseFloat(e)/100,toPositivePercent=e=>clamp(toPercent(e),0,1),boxAppering=(e,t)=>({x:e,y:t,x2:e,y2:t,width:0,height:0}),a={box:e=>boxAppering(e.centerX,e.centerY),doughnutLabel:e=>boxAppering(e.centerX,e.centerY),ellipse:e=>({centerX:e.centerX,centerY:e.centerX,radius:0,width:0,height:0}),label:e=>boxAppering(e.centerX,e.centerY),line:e=>boxAppering(e.x,e.y),point:e=>({centerX:e.centerX,centerY:e.centerY,radius:0,width:0,height:0}),polygon:e=>boxAppering(e.centerX,e.centerY)};function getRelativePosition(e,t){return"start"===t?0:"end"===t?e:isPercentString(t)?toPositivePercent(t)*e:e/2}function getSize(e,t,o=!0){return"number"==typeof t?t:isPercentString(t)?(o?toPositivePercent(t):toPercent(t))*e:e}function calculateTextAlignment(e,t){let{x:o,width:n}=e,i=t.textAlign;return"center"===i?o+n/2:"end"===i||"right"===i?o+n:o}function measureLabelRectangle(e,t,{borderWidth:o,position:n,xAdjust:r,yAdjust:a},l){let s=(0,i.i)(l),d=t.width+(s?l.width:0)+o,u=t.height+(s?l.height:0)+o,c=toPosition(n),h=calculateLabelPosition$1(e.x,d,r,c.x),p=calculateLabelPosition$1(e.y,u,a,c.y);return{x:h,y:p,x2:h+d,y2:p+u,width:d,height:u,centerX:h+d/2,centerY:p+u/2}}function toPosition(e,t="center"){return(0,i.i)(e)?{x:(0,i.v)(e.x,t),y:(0,i.v)(e.y,t)}:{x:e=(0,i.v)(e,t),y:e}}let shouldFit=(e,t)=>e&&e.autoFit&&t<1;function toFonts(e,t){let o=e.font,n=(0,i.b)(o)?o:[o];return shouldFit(e,t)?n.map(function(e){let o=(0,i.a0)(e);return o.size=Math.floor(e.size*t),o.lineHeight=e.lineHeight,(0,i.a0)(o)}):n.map(e=>(0,i.a0)(e))}function isBoundToPoint(e){return e&&((0,i.h)(e.xValue)||(0,i.h)(e.yValue))}function calculateLabelPosition$1(e,t,o=0,n){return e-getRelativePosition(t,n)+o}function initAnimationProperties(e,t,o){let n=o.init;return n?!0===n?applyDefault(t,o):execCallback(e,t,o):void 0}function loadHooks(e,t,o){let n=!1;return t.forEach(t=>{(0,i.a7)(e[t])?(n=!0,o[t]=e[t]):(0,i.h)(o[t])&&delete o[t]}),n}function applyDefault(e,t){return a[t.type||"line"](e)}function execCallback(e,t,o){let n=(0,i.Q)(o.init,[{chart:e,properties:t,options:o}]);return!0===n?applyDefault(t,o):(0,i.i)(n)?n:void 0}let l=new Map,notRadius=e=>isNaN(e)||e<=0,fontsKey=e=>e.reduce(function(e,t){return e+t.string},"");function isImageOrCanvas(e){if(e&&"object"==typeof e){let t=e.toString();return"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t}}function translate(e,{x:t,y:o},n){n&&(e.translate(t,o),e.rotate((0,i.t)(n)),e.translate(-t,-o))}function setBorderStyle(e,t){if(t&&t.borderWidth)return e.lineCap=t.borderCapStyle||"butt",e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.lineJoin=t.borderJoinStyle||"miter",e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,!0}function setShadowStyle(e,t){e.shadowColor=t.backgroundShadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY}function measureLabelSize(e,t){let o=t.content;if(isImageOrCanvas(o))return{width:getSize(o.width,t.width),height:getSize(o.height,t.height)};let n=toFonts(t),r=t.textStrokeWidth,a=(0,i.b)(o)?o:[o],s=a.join()+fontsKey(n)+r+(e._measureText?"-spriting":"");return l.has(s)||l.set(s,calculateLabelSize(e,a,n,r)),l.get(s)}function drawBox(e,t,o){let{x:n,y:r,width:a,height:l}=t;e.save(),setShadowStyle(e,o);let s=setBorderStyle(e,o);e.fillStyle=o.backgroundColor,e.beginPath(),(0,i.au)(e,{x:n,y:r,w:a,h:l,radius:clampAll((0,i.aw)(o.borderRadius),0,Math.min(a,l)/2)}),e.closePath(),e.fill(),s&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}function drawLabel(e,t,o,n){let r=o.content;if(isImageOrCanvas(r)){e.save(),e.globalAlpha=getOpacity(o.opacity,r.style.opacity),e.drawImage(r,t.x,t.y,t.width,t.height),e.restore();return}let a=(0,i.b)(r)?r:[r],l=toFonts(o,n),s=o.color,d=(0,i.b)(s)?s:[s],u=calculateTextAlignment(t,o),c=t.y+o.textStrokeWidth/2;e.save(),e.textBaseline="middle",e.textAlign=o.textAlign,setTextStrokeStyle(e,o)&&applyLabelDecoration(e,{x:u,y:c},a,l),applyLabelContent(e,{x:u,y:c},a,{fonts:l,colors:d}),e.restore()}function setTextStrokeStyle(e,t){if(t.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=t.textStrokeWidth,e.strokeStyle=t.textStrokeColor,!0}function drawPoint(e,t,o,n){let{radius:r,options:a}=t,l=a.pointStyle,s=a.rotation,d=(s||0)*i.b3;if(isImageOrCanvas(l)){e.save(),e.translate(o,n),e.rotate(d),e.drawImage(l,-l.width/2,-l.height/2,l.width,l.height),e.restore();return}notRadius(r)||drawPointStyle(e,{x:o,y:n,radius:r,rotation:s,style:l,rad:d})}function drawPointStyle(e,{x:t,y:o,radius:n,rotation:r,style:a,rad:l}){let s,d,u,c;switch(e.beginPath(),a){default:e.arc(t,o,n,0,i.T),e.closePath();break;case"triangle":e.moveTo(t+Math.sin(l)*n,o-Math.cos(l)*n),l+=i.b5,e.lineTo(t+Math.sin(l)*n,o-Math.cos(l)*n),l+=i.b5,e.lineTo(t+Math.sin(l)*n,o-Math.cos(l)*n),e.closePath();break;case"rectRounded":c=.516*n,u=n-c,s=Math.cos(l+i.b4)*u,d=Math.sin(l+i.b4)*u,e.arc(t-s,o-d,c,l-i.P,l-i.H),e.arc(t+d,o-s,c,l-i.H,l),e.arc(t+s,o+d,c,l,l+i.H),e.arc(t-d,o+s,c,l+i.H,l+i.P),e.closePath();break;case"rect":if(!r){u=Math.SQRT1_2*n,e.rect(t-u,o-u,2*u,2*u);break}l+=i.b4;case"rectRot":s=Math.cos(l)*n,d=Math.sin(l)*n,e.moveTo(t-s,o-d),e.lineTo(t+d,o-s),e.lineTo(t+s,o+d),e.lineTo(t-d,o+s),e.closePath();break;case"crossRot":l+=i.b4;case"cross":s=Math.cos(l)*n,d=Math.sin(l)*n,e.moveTo(t-s,o-d),e.lineTo(t+s,o+d),e.moveTo(t+d,o-s),e.lineTo(t-d,o+s);break;case"star":s=Math.cos(l)*n,d=Math.sin(l)*n,e.moveTo(t-s,o-d),e.lineTo(t+s,o+d),e.moveTo(t+d,o-s),e.lineTo(t-d,o+s),l+=i.b4,s=Math.cos(l)*n,d=Math.sin(l)*n,e.moveTo(t-s,o-d),e.lineTo(t+s,o+d),e.moveTo(t+d,o-s),e.lineTo(t-d,o+s);break;case"line":s=Math.cos(l)*n,d=Math.sin(l)*n,e.moveTo(t-s,o-d),e.lineTo(t+s,o+d);break;case"dash":e.moveTo(t,o),e.lineTo(t+Math.cos(l)*n,o+Math.sin(l)*n)}e.fill()}function calculateLabelSize(e,t,o,n){e.save();let i=t.length,r=0,a=n;for(let l=0;l<i;l++){let i=o[Math.min(l,o.length-1)];e.font=i.string;let s=t[l];r=Math.max(r,e.measureText(s).width+n),a+=i.lineHeight}return e.restore(),{width:r,height:a}}function applyLabelDecoration(e,{x:t,y:o},n,i){e.beginPath();let r=0;n.forEach(function(n,a){let l=i[Math.min(a,i.length-1)],s=l.lineHeight;e.font=l.string,e.strokeText(n,t,o+s/2+r),r+=s}),e.stroke()}function applyLabelContent(e,{x:t,y:o},n,{fonts:i,colors:r}){let a=0;n.forEach(function(n,l){let s=r[Math.min(l,r.length-1)],d=i[Math.min(l,i.length-1)],u=d.lineHeight;e.beginPath(),e.font=d.string,e.fillStyle=s,e.fillText(n,t,o+u/2+a),a+=u,e.fill()})}function getOpacity(e,t){let o=(0,i.x)(e)?e:t;return(0,i.x)(o)?clamp(o,0,1):1}let s=["left","bottom","top","right"];function drawCallout(e,t){let{pointX:o,pointY:n,options:r}=t,a=r.callout,l=a&&a.display&&resolveCalloutPosition(t,a);if(!l||isPointInRange(t,a,l))return;if(e.save(),e.beginPath(),!setBorderStyle(e,a))return e.restore();let{separatorStart:s,separatorEnd:d}=getCalloutSeparatorCoord(t,l),{sideStart:u,sideEnd:c}=getCalloutSideCoord(t,l,s);(a.margin>0||0===r.borderWidth)&&(e.moveTo(s.x,s.y),e.lineTo(d.x,d.y)),e.moveTo(u.x,u.y),e.lineTo(c.x,c.y);let h=rotated({x:o,y:n},t.getCenterPoint(),(0,i.t)(-t.rotation));e.lineTo(h.x,h.y),e.stroke(),e.restore()}function getCalloutSeparatorCoord(e,t){let o,n,{x:i,y:r,x2:a,y2:l}=e,s=getCalloutSeparatorAdjust(e,t);return n="left"===t||"right"===t?{x:(o={x:i+s,y:r}).x,y:l}:{x:a,y:(o={x:i,y:r+s}).y},{separatorStart:o,separatorEnd:n}}function getCalloutSeparatorAdjust(e,t){let{width:o,height:n,options:i}=e,r=i.callout.margin+i.borderWidth/2;return"right"===t?o+r:"bottom"===t?n+r:-r}function getCalloutSideCoord(e,t,o){let n,i,{y:r,width:a,height:l,options:s}=e,d=s.callout.start,u=getCalloutSideAdjust(t,s.callout);return i="left"===t||"right"===t?{x:(n={x:o.x,y:r+getSize(l,d)}).x+u,y:n.y}:{x:(n={x:o.x+getSize(a,d),y:o.y}).x,y:n.y+u},{sideStart:n,sideEnd:i}}function getCalloutSideAdjust(e,t){let o=t.side;return"left"===e||"top"===e?-o:o}function resolveCalloutPosition(e,t){let o=t.position;return s.includes(o)?o:resolveCalloutAutoPosition(e,t)}function resolveCalloutAutoPosition(e,t){let{x:o,y:n,x2:r,y2:a,width:l,height:d,pointX:u,pointY:c,centerX:h,centerY:p,rotation:f}=e,g={x:h,y:p},b=t.start,y=getSize(l,b),x=getSize(d,b),v=[o,o+y,o+y,r],m=[n+x,a,n,a],w=[];for(let e=0;e<4;e++){let t=rotated({x:v[e],y:m[e]},g,(0,i.t)(f));w.push({position:s[e],distance:(0,i.aE)(t,{x:u,y:c})})}return w.sort((e,t)=>e.distance-t.distance)[0].position}function isPointInRange(e,t,o){let{pointX:n,pointY:i}=e,r=t.margin,a=n,l=i;return"left"===o?a+=r:"right"===o?a-=r:"top"===o?l+=r:"bottom"===o&&(l-=r),e.inRange(a,l)}let d={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function scaleValue(e,t,o){return t="number"==typeof t?t:e.parse(t),(0,i.g)(t)?e.getPixelForValue(t):o}function retrieveScaleID(e,t,o){let n=t[o];if(n||"scaleID"===o)return n;let i=o.charAt(0),r=Object.values(e).filter(e=>e.axis&&e.axis===i);return r.length?r[0].id:i}function getDimensionByScale(e,t){if(e){let o=e.options.reverse;return{start:scaleValue(e,t.min,o?t.end:t.start),end:scaleValue(e,t.max,o?t.start:t.end)}}}function getChartPoint(e,t){let{chartArea:o,scales:n}=e,i=n[retrieveScaleID(n,t,"xScaleID")],r=n[retrieveScaleID(n,t,"yScaleID")],a=o.width/2,l=o.height/2;return i&&(a=scaleValue(i,t.xValue,i.left+i.width/2)),r&&(l=scaleValue(r,t.yValue,r.top+r.height/2)),{x:a,y:l}}function resolveBoxProperties(e,t){let o=e.scales,n=o[retrieveScaleID(o,t,"xScaleID")],i=o[retrieveScaleID(o,t,"yScaleID")];if(!n&&!i)return{};let{left:r,right:a}=n||e.chartArea,{top:l,bottom:s}=i||e.chartArea,d=getChartDimensionByScale(n,{min:t.xMin,max:t.xMax,start:r,end:a});r=d.start,a=d.end;let u=getChartDimensionByScale(i,{min:t.yMin,max:t.yMax,start:s,end:l});return{x:r,y:l=u.start,x2:a,y2:s=u.end,width:a-r,height:s-l,centerX:r+(a-r)/2,centerY:l+(s-l)/2}}function resolvePointProperties(e,t){if(!isBoundToPoint(t)){let o=resolveBoxProperties(e,t),n=t.radius;(!n||isNaN(n))&&(t.radius=n=Math.min(o.width,o.height)/2);let i=2*n,r=o.centerX+t.xAdjust,a=o.centerY+t.yAdjust;return{x:r-n,y:a-n,x2:r+n,y2:a+n,centerX:r,centerY:a,width:i,height:i,radius:n}}return getChartCircle(e,t)}function resolveLineProperties(e,t){let{scales:o,chartArea:n}=e,i=o[t.scaleID],r={x:n.left,y:n.top,x2:n.right,y2:n.bottom};return i?resolveFullLineProperties(i,r,t):resolveLimitedLineProperties(o,r,t),r}function resolveBoxAndLabelProperties(e,t){let o=resolveBoxProperties(e,t);return o.initProperties=initAnimationProperties(e,o,t),o.elements=[{type:"label",optionScope:"label",properties:resolveLabelElementProperties$1(e,o,t),initProperties:o.initProperties}],o}function getChartCircle(e,t){let o=getChartPoint(e,t),n=2*t.radius;return{x:o.x-t.radius+t.xAdjust,y:o.y-t.radius+t.yAdjust,x2:o.x+t.radius+t.xAdjust,y2:o.y+t.radius+t.yAdjust,centerX:o.x+t.xAdjust,centerY:o.y+t.yAdjust,radius:t.radius,width:n,height:n}}function getChartDimensionByScale(e,t){let o=getDimensionByScale(e,t)||t;return{start:Math.min(o.start,o.end),end:Math.max(o.start,o.end)}}function resolveFullLineProperties(e,t,o){let n=scaleValue(e,o.value,NaN),i=scaleValue(e,o.endValue,n);e.isHorizontal()?(t.x=n,t.x2=i):(t.y=n,t.y2=i)}function resolveLimitedLineProperties(e,t,o){for(let n of Object.keys(d)){let i=e[retrieveScaleID(e,o,n)];if(i){let{min:e,max:r,start:a,end:l,startProp:s,endProp:u}=d[n],c=getDimensionByScale(i,{min:o[e],max:o[r],start:i[a],end:i[l]});t[s]=c.start,t[u]=c.end}}}function calculateX({properties:e,options:t},o,n,i){let{x:r,x2:a,width:l}=e;return calculatePosition({start:r,end:a,size:l,borderWidth:t.borderWidth},{position:n.x,padding:{start:i.left,end:i.right},adjust:t.label.xAdjust,size:o.width})}function calculateY({properties:e,options:t},o,n,i){let{y:r,y2:a,height:l}=e;return calculatePosition({start:r,end:a,size:l,borderWidth:t.borderWidth},{position:n.y,padding:{start:i.top,end:i.bottom},adjust:t.label.yAdjust,size:o.height})}function calculatePosition(e,t){let{start:o,end:n,borderWidth:i}=e,{position:r,padding:{start:a,end:l},adjust:s}=t,d=n-i-o-a-l-t.size;return o+i/2+s+getRelativePosition(d,r)}function resolveLabelElementProperties$1(e,t,o){let n=o.label;n.backgroundColor="transparent",n.callout.display=!1;let r=toPosition(n.position),a=(0,i.E)(n.padding),l=measureLabelSize(e.ctx,n),s=calculateX({properties:t,options:o},l,r,a),d=calculateY({properties:t,options:o},l,r,a),u=l.width+a.width,c=l.height+a.height;return{x:s,y:d,x2:s+u,y2:d+c,width:u,height:c,centerX:s+u/2,centerY:d+c/2,rotation:n.rotation}}let u=["enter","leave"],c=u.concat("click");function updateListeners(e,t,o){t.listened=loadHooks(o,c,t.listeners),t.moveListened=!1,u.forEach(e=>{(0,i.a7)(o[e])&&(t.moveListened=!0)}),t.listened&&t.moveListened||t.annotations.forEach(e=>{!t.listened&&(0,i.a7)(e.click)&&(t.listened=!0),t.moveListened||u.forEach(o=>{(0,i.a7)(e[o])&&(t.listened=!0,t.moveListened=!0)})})}function handleEvent(e,t,o){if(e.listened)switch(t.type){case"mousemove":case"mouseout":return handleMoveEvents(e,t,o);case"click":return handleClickEvents(e,t,o)}}function handleMoveEvents(e,t,o){let n;if(!e.moveListened)return;n="mousemove"===t.type?getElements(e.visibleElements,t,o.interaction):[];let i=e.hovered;e.hovered=n;let r={state:e,event:t},a=dispatchMoveEvents(r,"leave",i,n);return dispatchMoveEvents(r,"enter",n,i)||a}function dispatchMoveEvents({state:e,event:t},o,n,i){let r;for(let a of n)0>i.indexOf(a)&&(r=dispatchEvent(a.options[o]||e.listeners[o],a,t)||r);return r}function handleClickEvents(e,t,o){let n,i=e.listeners;for(let r of getElements(e.visibleElements,t,o.interaction))n=dispatchEvent(r.options.click||i.click,r,t)||n;return n}function dispatchEvent(e,t,o){return!0===(0,i.Q)(e,[t.$context,o])}let h=["afterDraw","beforeDraw"];function updateHooks(e,t,o){let n=t.visibleElements;t.hooked=loadHooks(o,h,t.hooks),t.hooked||n.forEach(e=>{t.hooked||h.forEach(o=>{(0,i.a7)(e.options[o])&&(t.hooked=!0)})})}function invokeHook(e,t,o){if(e.hooked){let n=t.options[o]||e.hooks[o];return(0,i.Q)(n,[t.$context])}}function adjustScaleRange(e,t,o){let n=getScaleLimits(e.scales,t,o),r=changeScaleLimit(t,n,"min","suggestedMin");(r=changeScaleLimit(t,n,"max","suggestedMax")||r)&&(0,i.a7)(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function verifyScaleOptions(e,t){for(let o of e)verifyScaleIDs(o,t)}function changeScaleLimit(e,t,o,n){if((0,i.g)(t[o])&&!scaleLimitDefined(e.options,o,n)){let n=e[o]!==t[o];return e[o]=t[o],n}}function scaleLimitDefined(e,t,o){return(0,i.h)(e[t])||(0,i.h)(e[o])}function verifyScaleIDs(e,t){for(let o of["scaleID","xScaleID","yScaleID"]){let n=retrieveScaleID(t,e,o);n&&!t[n]&&verifyProperties(e,o)&&console.warn(`No scale found with id '${n}' for annotation '${e.id}'`)}}function verifyProperties(e,t){if("scaleID"===t)return!0;let o=t.charAt(0);for(let t of["Min","Max","Value"])if((0,i.h)(e[o+t]))return!0;return!1}function getScaleLimits(e,t,o){let n=t.axis,r=t.id,a=n+"ScaleID",l={min:(0,i.v)(t.min,Number.NEGATIVE_INFINITY),max:(0,i.v)(t.max,Number.POSITIVE_INFINITY)};for(let i of o)i.scaleID===r?updateLimits(i,t,["value","endValue"],l):retrieveScaleID(e,i,a)===r&&updateLimits(i,t,[n+"Min",n+"Max",n+"Value"],l);return l}function updateLimits(e,t,o,n){for(let r of o){let o=e[r];if((0,i.h)(o)){let e=t.parse(o);n.min=Math.min(n.min,e),n.max=Math.max(n.max,e)}}}let BoxAnnotation=class BoxAnnotation extends n.W_{inRange(e,t,o,n){let{x:r,y:a}=rotated({x:e,y:t},this.getCenterPoint(n),(0,i.t)(-this.options.rotation));return inBoxRange({x:r,y:a},this.getProps(["x","y","x2","y2"],n),o,this.options)}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){e.save(),translate(e,this.getCenterPoint(),this.options.rotation),drawBox(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return resolveBoxAndLabelProperties(e,t)}};BoxAnnotation.id="boxAnnotation",BoxAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},BoxAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"},BoxAnnotation.descriptors={label:{_fallback:!0}};let DoughnutLabelAnnotation=class DoughnutLabelAnnotation extends n.W_{inRange(e,t,o,n){return inLabelRange({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],n),center:this.getCenterPoint(n)},o,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){let t=this.options;t.display&&t.content&&(drawBackground(e,this),e.save(),translate(e,this.getCenterPoint(),this.rotation),drawLabel(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){let o=getDatasetMeta(e,t);if(!o)return{};let{controllerMeta:n,point:i,radius:r}=getControllerMeta(e,t,o),a=measureLabelSize(e.ctx,t),l=getFitRatio(a,r);shouldFit(t,l)&&(a={width:a.width*l,height:a.height*l});let{position:s,xAdjust:d,yAdjust:u}=t,c=measureLabelRectangle(i,a,{borderWidth:0,position:s,xAdjust:d,yAdjust:u});return{initProperties:initAnimationProperties(e,c,t),...c,...n,rotation:t.rotation,_fitRatio:l}}};function getDatasetMeta(e,t){return e.getSortedVisibleDatasetMetas().reduce(function(o,i){let r=i.controller;return r instanceof n.jI&&isControllerVisible(e,t,i.data)&&(!o||r.innerRadius<o.controller.innerRadius)&&r.options.circumference>=90?i:o},void 0)}function isControllerVisible(e,t,o){if(!t.autoHide)return!0;for(let t=0;t<o.length;t++)if(!o[t].hidden&&e.getDataVisibility(t))return!0}function getControllerMeta({chartArea:e},t,o){let{left:n,top:i,right:r,bottom:a}=e,{innerRadius:l,offsetX:s,offsetY:d}=o.controller,u=(n+r)/2+s,c=(i+a)/2+d,h={left:Math.max(u-l,n),right:Math.min(u+l,r),top:Math.max(c-l,i),bottom:Math.min(c+l,a)},p={x:(h.left+h.right)/2,y:(h.top+h.bottom)/2},f=t.spacing+t.borderWidth/2,g=l-f,b=p.y>c,y=getAngles(b?i+f:a-f,u,c,g);return{controllerMeta:{_centerX:u,_centerY:c,_radius:g,_counterclockwise:b,...y},point:p,radius:Math.min(l,Math.min(h.right-h.left,h.bottom-h.top)/2)}}function getFitRatio({width:e,height:t},o){return 2*o/Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function getAngles(e,t,o,n){let r=-2*t,a=Math.pow(r,2)-4*(Math.pow(t,2)+Math.pow(o-e,2)-Math.pow(n,2));if(a<=0)return{_startAngle:0,_endAngle:i.T};let l=(-r-Math.sqrt(a))/2,s=(-r+Math.sqrt(a))/2;return{_startAngle:(0,i.D)({x:t,y:o},{x:l,y:e}).angle,_endAngle:(0,i.D)({x:t,y:o},{x:s,y:e}).angle}}function drawBackground(e,t){let{_centerX:o,_centerY:n,_radius:i,_startAngle:r,_endAngle:a,_counterclockwise:l,options:s}=t;e.save();let d=setBorderStyle(e,s);e.fillStyle=s.backgroundColor,e.beginPath(),e.arc(o,n,i,r,a,l),e.closePath(),e.fill(),d&&e.stroke(),e.restore()}DoughnutLabelAnnotation.id="doughnutLabelAnnotation",DoughnutLabelAnnotation.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},DoughnutLabelAnnotation.defaultRoutes={};let LabelAnnotation=class LabelAnnotation extends n.W_{inRange(e,t,o,n){return inLabelRange({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],n),center:this.getCenterPoint(n)},o,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){let t=this.options,o=!(0,i.h)(this._visible)||this._visible;t.display&&t.content&&o&&(e.save(),translate(e,this.getCenterPoint(),this.rotation),drawCallout(e,this),drawBox(e,this,t),drawLabel(e,getLabelSize(this),t),e.restore())}resolveElementProperties(e,t){let o;if(isBoundToPoint(t))o=getChartPoint(e,t);else{let{centerX:n,centerY:i}=resolveBoxProperties(e,t);o={x:n,y:i}}let n=(0,i.E)(t.padding),r=measureLabelRectangle(o,measureLabelSize(e.ctx,t),t,n);return{initProperties:initAnimationProperties(e,r,t),pointX:o.x,pointY:o.y,...r,rotation:t.rotation}}};function getLabelSize({x:e,y:t,width:o,height:n,options:r}){let a=r.borderWidth/2,l=(0,i.E)(r.padding);return{x:e+l.left+a,y:t+l.top+a,width:o-l.left-l.right-r.borderWidth,height:n-l.top-l.bottom-r.borderWidth}}LabelAnnotation.id="labelAnnotation",LabelAnnotation.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},LabelAnnotation.defaultRoutes={borderColor:"color"};let pointInLine=(e,t,o)=>({x:e.x+o*(t.x-e.x),y:e.y+o*(t.y-e.y)}),interpolateX=(e,t,o)=>pointInLine(t,o,Math.abs((e-t.y)/(o.y-t.y))).x,interpolateY=(e,t,o)=>pointInLine(t,o,Math.abs((e-t.x)/(o.x-t.x))).y,sqr=e=>e*e,rangeLimit=(e,t,{x:o,y:n,x2:i,y2:r},a)=>"y"===a?{start:Math.min(n,r),end:Math.max(n,r),value:t}:{start:Math.min(o,i),end:Math.max(o,i),value:e},coordInCurve=(e,t,o,n)=>(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*o,pointInCurve=(e,t,o,n)=>({x:coordInCurve(e.x,t.x,o.x,n),y:coordInCurve(e.y,t.y,o.y,n)}),coordAngleInCurve=(e,t,o,n)=>2*(1-n)*(t-e)+2*n*(o-t),angleInCurve=(e,t,o,n)=>-Math.atan2(coordAngleInCurve(e.x,t.x,o.x,n),coordAngleInCurve(e.y,t.y,o.y,n))+.5*i.P;let LineAnnotation=class LineAnnotation extends n.W_{inRange(e,t,o,n){let i=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==o&&"y"!==o){let o={mouseX:e,mouseY:t},{path:r,ctx:a}=this;if(r){setBorderStyle(a,this.options),a.lineWidth+=this.options.hitTolerance;let{chart:i}=this.$context,l=e*i.currentDevicePixelRatio,s=t*i.currentDevicePixelRatio,d=a.isPointInStroke(r,l,s)||isOnLabel(this,o,n);return a.restore(),d}return intersects(this,o,sqr(i),n)||isOnLabel(this,o,n)}return inAxisRange(this,{mouseX:e,mouseY:t},o,{hitSize:i,useFinalPosition:n})}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){let{x:t,y:o,x2:n,y2:i,cp:r,options:a}=this;if(e.save(),!setBorderStyle(e,a))return e.restore();setShadowStyle(e,a);let l=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-o,2));if(a.curve&&r)return drawCurve(e,this,r,l),e.restore();let{startOpts:s,endOpts:d,startAdjust:u,endAdjust:c}=getArrowHeads(this),h=Math.atan2(i-o,n-t);e.translate(t,o),e.rotate(h),e.beginPath(),e.moveTo(0+u,0),e.lineTo(l-c,0),e.shadowColor=a.borderShadowColor,e.stroke(),drawArrowHead(e,0,u,s),drawArrowHead(e,l,-c,d),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){let o=resolveLineProperties(e,t),{x:n,y:r,x2:a,y2:l}=o,s=isLineInArea(o,e.chartArea),d=s?limitLineToArea({x:n,y:r},{x:a,y:l},e.chartArea):{x:n,y:r,x2:a,y2:l,width:Math.abs(a-n),height:Math.abs(l-r)};if(d.centerX=(a+n)/2,d.centerY=(l+r)/2,d.initProperties=initAnimationProperties(e,d,t),t.curve){let e={x:d.x,y:d.y},o={x:d.x2,y:d.y2};d.cp=getControlPoint(d,t,(0,i.aE)(e,o))}let u=resolveLabelElementProperties(e,d,t.label);return u._visible=s,d.elements=[{type:"label",optionScope:"label",properties:u,initProperties:d.initProperties}],d}};LineAnnotation.id="lineAnnotation";let p={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function inAxisRange(e,{mouseX:t,mouseY:o},n,{hitSize:i,useFinalPosition:r}){return inLimit(rangeLimit(t,o,e.getProps(["x","y","x2","y2"],r),n),i)||isOnLabel(e,{mouseX:t,mouseY:o},r,n)}function isLineInArea({x:e,y:t,x2:o,y2:n},{top:i,right:r,bottom:a,left:l}){return!(e<l&&o<l||e>r&&o>r||t<i&&n<i||t>a&&n>a)}function limitPointToArea({x:e,y:t},o,{top:n,right:i,bottom:r,left:a}){return e<a&&(t=interpolateY(a,{x:e,y:t},o),e=a),e>i&&(t=interpolateY(i,{x:e,y:t},o),e=i),t<n&&(e=interpolateX(n,{x:e,y:t},o),t=n),t>r&&(e=interpolateX(r,{x:e,y:t},o),t=r),{x:e,y:t}}function limitLineToArea(e,t,o){let{x:n,y:i}=limitPointToArea(e,t,o),{x:r,y:a}=limitPointToArea(t,e,o);return{x:n,y:i,x2:r,y2:a,width:Math.abs(r-n),height:Math.abs(a-i)}}function intersects(e,{mouseX:t,mouseY:o},n=.001,i){let r,a,{x:l,y:s,x2:d,y2:u}=e.getProps(["x","y","x2","y2"],i),c=d-l,h=u-s,p=sqr(c)+sqr(h),f=0===p?-1:((t-l)*c+(o-s)*h)/p;return f<0?(r=l,a=s):f>1?(r=d,a=u):(r=l+f*c,a=s+f*h),sqr(t-r)+sqr(o-a)<=n}function isOnLabel(e,{mouseX:t,mouseY:o},n,i){let r=e.label;return r.options.display&&r.inRange(t,o,i,n)}function resolveLabelElementProperties(e,t,o){let n=o.borderWidth,r=(0,i.E)(o.padding),a=measureLabelSize(e.ctx,o);return calculateLabelPosition(t,o,{width:a.width+r.width+n,height:a.height+r.height+n,padding:r},e.chartArea)}function calculateAutoRotation(e){let{x:t,y:o,x2:n,y2:r}=e,a=Math.atan2(r-o,n-t);return a>i.P/2?a-i.P:a<-(i.P/2)?a+i.P:a}function calculateLabelPosition(e,t,o,n){let{width:r,height:a,padding:l}=o,{xAdjust:s,yAdjust:d}=t,u={x:e.x,y:e.y},c={x:e.x2,y:e.y2},h="auto"===t.rotation?calculateAutoRotation(e):(0,i.t)(t.rotation),p=rotatedSize(r,a,h),f=calculateT(e,t,{labelSize:p,padding:l},n),g=e.cp?pointInCurve(u,e.cp,c,f):pointInLine(u,c,f),b={size:p.w,min:n.left,max:n.right,padding:l.left},y={size:p.h,min:n.top,max:n.bottom,padding:l.top},x=adjustLabelCoordinate(g.x,b)+s,v=adjustLabelCoordinate(g.y,y)+d;return{x:x-r/2,y:v-a/2,x2:x+r/2,y2:v+a/2,centerX:x,centerY:v,pointX:g.x,pointY:g.y,width:r,height:a,rotation:(0,i.U)(h)}}function rotatedSize(e,t,o){let n=Math.cos(o),i=Math.sin(o);return{w:Math.abs(e*n)+Math.abs(t*i),h:Math.abs(e*i)+Math.abs(t*n)}}function calculateT(e,t,o,n){let i,r=spaceAround(e,n);return"start"===t.position?calculateTAdjust({w:e.x2-e.x,h:e.y2-e.y},o,t,r):"end"===t.position?1-calculateTAdjust({w:e.x-e.x2,h:e.y-e.y2},o,t,r):getRelativePosition(1,t.position)}function calculateTAdjust(e,t,o,n){let{labelSize:i,padding:r}=t,a=e.w*n.dx,l=e.h*n.dy;return clamp(Math.max(a>0&&(i.w/2+r.left-n.x)/a,l>0&&(i.h/2+r.top-n.y)/l),0,.25)}function spaceAround(e,t){let{x:o,x2:n,y:i,y2:r}=e,a=Math.min(i,r)-t.top,l=Math.min(o,n)-t.left,s=t.bottom-Math.max(i,r),d=t.right-Math.max(o,n);return{x:Math.min(l,d),y:Math.min(a,s),dx:l<=d?1:-1,dy:a<=s?1:-1}}function adjustLabelCoordinate(e,t){let{size:o,min:n,max:i,padding:r}=t,a=o/2;return o>i-n?(i+n)/2:(n>=e-r-a&&(e=n+r+a),i<=e+r+a&&(e=i-r-a),e)}function getArrowHeads(e){let t=e.options,o=t.arrowHeads&&t.arrowHeads.start,n=t.arrowHeads&&t.arrowHeads.end;return{startOpts:o,endOpts:n,startAdjust:getLineAdjust(e,o),endAdjust:getLineAdjust(e,n)}}function getLineAdjust(e,t){if(!t||!t.display)return 0;let{length:o,width:n}=t,i=e.options.borderWidth/2;return Math.abs(interpolateX(0,{x:o,y:n+i},{x:0,y:i}))}function drawArrowHead(e,t,o,n){if(!n||!n.display)return;let{length:i,width:r,fill:a,backgroundColor:l,borderColor:s}=n,d=Math.abs(t-i)+o;e.beginPath(),setShadowStyle(e,n),setBorderStyle(e,n),e.moveTo(d,-r),e.lineTo(t+o,0),e.lineTo(d,r),!0===a?(e.fillStyle=l||s,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=n.borderShadowColor,e.stroke()}function getControlPoint(e,t,o){let{x:n,y:i,x2:r,y2:a,centerX:l,centerY:s}=e,d=Math.atan2(a-i,r-n),u=toPosition(t.controlPoint,0);return rotated({x:l+getSize(o,u.x,!1),y:s+getSize(o,u.y,!1)},{x:l,y:s},d)}function drawArrowHeadOnCurve(e,{x:t,y:o},{angle:n,adjust:i},r){r&&r.display&&(e.save(),e.translate(t,o),e.rotate(n),drawArrowHead(e,0,-i,r),e.restore())}function drawCurve(e,t,o,n){let{x:r,y:a,x2:l,y2:s,options:d}=t,{startOpts:u,endOpts:c,startAdjust:h,endAdjust:p}=getArrowHeads(t),f={x:r,y:a},g={x:l,y:s},b=angleInCurve(f,o,g,0),y=angleInCurve(f,o,g,1)-i.P,x=pointInCurve(f,o,g,h/n),v=pointInCurve(f,o,g,1-p/n),m=new Path2D;e.beginPath(),m.moveTo(x.x,x.y),m.quadraticCurveTo(o.x,o.y,v.x,v.y),e.shadowColor=d.borderShadowColor,e.stroke(m),t.path=m,t.ctx=e,drawArrowHeadOnCurve(e,x,{angle:b,adjust:h},u),drawArrowHeadOnCurve(e,v,{angle:y,adjust:p},c)}LineAnnotation.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},p),fill:!1,length:12,start:Object.assign({},p),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},LabelAnnotation.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},LineAnnotation.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},LineAnnotation.defaultRoutes={borderColor:"color"};let EllipseAnnotation=class EllipseAnnotation extends n.W_{inRange(e,t,o,n){let r=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==o&&"y"!==o)return pointInEllipse({x:e,y:t},this.getProps(["width","height","centerX","centerY"],n),r,a);let{x:l,y:s,x2:d,y2:u}=this.getProps(["x","y","x2","y2"],n),c="y"===o?{start:s,end:u}:{start:l,end:d},h=rotated({x:e,y:t},this.getCenterPoint(n),(0,i.t)(-r));return h[o]>=c.start-a-.001&&h[o]<=c.end+a+.001}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){let{width:t,height:o,centerX:n,centerY:r,options:a}=this;e.save(),translate(e,this.getCenterPoint(),a.rotation),setShadowStyle(e,this.options),e.beginPath(),e.fillStyle=a.backgroundColor;let l=setBorderStyle(e,a);e.ellipse(n,r,o/2,t/2,i.P/2,0,2*i.P),e.fill(),l&&(e.shadowColor=a.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return resolveBoxAndLabelProperties(e,t)}};function pointInEllipse(e,t,o,n){let{width:r,height:a,centerX:l,centerY:s}=t,d=r/2,u=a/2;if(d<=0||u<=0)return!1;let c=(0,i.t)(o||0),h=Math.cos(c),p=Math.sin(c);return Math.pow(h*(e.x-l)+p*(e.y-s),2)/Math.pow(d+n,2)+Math.pow(p*(e.x-l)-h*(e.y-s),2)/Math.pow(u+n,2)<=1.0001}EllipseAnnotation.id="ellipseAnnotation",EllipseAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},BoxAnnotation.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},EllipseAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"},EllipseAnnotation.descriptors={label:{_fallback:!0}};let PointAnnotation=class PointAnnotation extends n.W_{inRange(e,t,o,n){let{x:i,y:r,x2:a,y2:l,width:s}=this.getProps(["x","y","x2","y2","width"],n),d=(this.options.borderWidth+this.options.hitTolerance)/2;return"x"!==o&&"y"!==o?inPointRange({x:e,y:t},this.getCenterPoint(n),s/2,d):inLimit("y"===o?{start:r,end:l,value:t}:{start:i,end:a,value:e},d)}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){let t=this.options,o=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,setShadowStyle(e,t);let n=setBorderStyle(e,t);drawPoint(e,this,this.centerX,this.centerY),n&&!isImageOrCanvas(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=o}resolveElementProperties(e,t){let o=resolvePointProperties(e,t);return o.initProperties=initAnimationProperties(e,o,t),o}};PointAnnotation.id="pointAnnotation",PointAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},PointAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};let PolygonAnnotation=class PolygonAnnotation extends n.W_{inRange(e,t,o,n){if("x"!==o&&"y"!==o)return this.options.radius>=.1&&this.elements.length>1&&pointIsInPolygon(this.elements,e,t,n);let r=rotated({x:e,y:t},this.getCenterPoint(n),(0,i.t)(-this.options.rotation)),a=this.elements.map(e=>"y"===o?e.bY:e.bX),l=Math.min(...a),s=Math.max(...a);return r[o]>=l&&r[o]<=s}getCenterPoint(e){return getElementCenterPoint(this,e)}draw(e){let{elements:t,options:o}=this;e.save(),e.beginPath(),e.fillStyle=o.backgroundColor,setShadowStyle(e,o);let n=setBorderStyle(e,o),i=!0;for(let o of t)i?(e.moveTo(o.x,o.y),i=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),n&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){let o=resolvePointProperties(e,t),{sides:n,rotation:r}=t,a=[],l=2*i.P/n,s=r*i.b3;for(let i=0;i<n;i++,s+=l){let n=buildPointElement(o,t,s);n.initProperties=initAnimationProperties(e,o,t),a.push(n)}return o.elements=a,o}};function buildPointElement({centerX:e,centerY:t},{radius:o,borderWidth:n,hitTolerance:i},r){let a=(n+i)/2,l=Math.sin(r),s=Math.cos(r),d={x:e+l*o,y:t-s*o};return{type:"point",optionScope:"point",properties:{x:d.x,y:d.y,centerX:d.x,centerY:d.y,bX:e+l*(o+a),bY:t-s*(o+a)}}}function pointIsInPolygon(e,t,o,n){let i=!1,r=e[e.length-1].getProps(["bX","bY"],n);for(let a of e){let e=a.getProps(["bX","bY"],n);e.bY>o!=r.bY>o&&t<(r.bX-e.bX)*(o-e.bY)/(r.bY-e.bY)+e.bX&&(i=!i),r=e}return i}PolygonAnnotation.id="polygonAnnotation",PolygonAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},PolygonAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};let f={box:BoxAnnotation,doughnutLabel:DoughnutLabelAnnotation,ellipse:EllipseAnnotation,label:LabelAnnotation,line:LineAnnotation,point:PointAnnotation,polygon:PolygonAnnotation};Object.keys(f).forEach(e=>{i.d.describe(`elements.${f[e].id}`,{_fallback:"plugins.annotation.common"})});let g={update:Object.assign},b=c.concat(h),resolve=(e,t)=>(0,i.i)(t)?resolveObj(e,t):e,isIndexable=e=>"color"===e||"font"===e;function resolveType(e="line"){return f[e]?e:(console.warn(`Unknown annotation type: '${e}', defaulting to 'line'`),"line")}function updateElements(e,t,o,n){let r=resolveAnimations(e,o.animations,n),a=t.annotations,l=resyncElements(t.elements,a);for(let t=0;t<a.length;t++){let o=a[t],n=getOrCreateElement(l,t,o.type),s=o.setContext(getContext(e,n,l,o)),d=n.resolveElementProperties(e,s);d.skip=toSkip(d),"elements"in d&&(updateSubElements(n,d.elements,s,r),delete d.elements),(0,i.h)(n.x)||Object.assign(n,d),Object.assign(n,d.initProperties),d.options=resolveAnnotationOptions(s),r.update(n,d)}}function toSkip(e){return isNaN(e.x)||isNaN(e.y)}function resolveAnimations(e,t,o){return"reset"===o||"none"===o||"resize"===o?g:new n.FK(e,t)}function updateSubElements(e,t,o,n){let i=e.elements||(e.elements=[]);i.length=t.length;for(let e=0;e<t.length;e++){let r=t[e],a=r.properties,l=getOrCreateElement(i,e,r.type,r.initProperties);a.options=resolveAnnotationOptions(o[r.optionScope].override(r)),n.update(l,a)}}function getOrCreateElement(e,t,o,n){let i=f[resolveType(o)],r=e[t];return r&&r instanceof i||Object.assign(r=e[t]=new i,n),r}function resolveAnnotationOptions(e){let t=f[resolveType(e.type)],o={};for(let n of(o.id=e.id,o.type=e.type,o.drawTime=e.drawTime,Object.assign(o,resolveObj(e,t.defaults),resolveObj(e,t.defaultRoutes)),b))o[n]=e[n];return o}function resolveObj(e,t){let o={};for(let n of Object.keys(t)){let r=t[n],a=e[n];isIndexable(n)&&(0,i.b)(a)?o[n]=a.map(e=>resolve(e,r)):o[n]=resolve(a,r)}return o}function getContext(e,t,o,n){return t.$context||(t.$context=Object.assign(Object.create(e.getContext()),{element:t,get elements(){return o.filter(e=>e&&e.options)},id:n.id,type:"annotation"}))}function resyncElements(e,t){let o=t.length,n=e.length;return n<o?e.splice(n,0,...Array(o-n)):n>o&&e.splice(o,n-o),e}let y=new Map,isNotDoughnutLabel=e=>"doughnutLabel"!==e.type,x=c.concat(h);var v={id:"annotation",version:"3.1.0",beforeRegister(){requireVersion("chart.js","4.0",n.kL.version)},afterRegister(){n.kL.register(f)},afterUnregister(){n.kL.unregister(f)},beforeInit(e){y.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(e,t,o){let n=y.get(e).annotations=[],r=o.annotations;(0,i.i)(r)?Object.keys(r).forEach(e=>{let t=r[e];(0,i.i)(t)&&(t.id=e,n.push(t))}):(0,i.b)(r)&&n.push(...r),verifyScaleOptions(n.filter(isNotDoughnutLabel),e.scales)},afterDataLimits(e,t){let o=y.get(e);adjustScaleRange(e,t.scale,o.annotations.filter(isNotDoughnutLabel).filter(e=>e.display&&e.adjustScaleRange))},afterUpdate(e,t,o){let n=y.get(e);updateListeners(e,n,o),updateElements(e,n,o,t.mode),n.visibleElements=n.elements.filter(e=>!e.skip&&e.options.display),updateHooks(e,n,o)},beforeDatasetsDraw(e,t,o){draw(e,"beforeDatasetsDraw",o.clip)},afterDatasetsDraw(e,t,o){draw(e,"afterDatasetsDraw",o.clip)},beforeDatasetDraw(e,t,o){draw(e,t.index,o.clip)},beforeDraw(e,t,o){draw(e,"beforeDraw",o.clip)},afterDraw(e,t,o){draw(e,"afterDraw",o.clip)},beforeEvent(e,t,o){handleEvent(y.get(e),t.event,o)&&(t.changed=!0)},afterDestroy(e){y.delete(e)},getAnnotations(e){let t=y.get(e);return t?t.elements:[]},_getAnnotationElementsAtEventForMode:(e,t,o)=>getElements(e,t,o),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:e=>!x.includes(e)&&"init"!==e,annotations:{_allKeys:!1,_fallback:(e,t)=>`elements.${f[resolveType(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:isIndexable,_fallback:!0},_indexable:isIndexable}},additionalOptionScopes:[""]};function draw(e,t,o){let{ctx:n,chartArea:r}=e,a=y.get(e);for(let e of(o&&(0,i.Y)(n,r),getDrawableElements(a.visibleElements,t).sort((e,t)=>e.element.options.z-t.element.options.z)))drawElement(n,r,a,e);o&&(0,i.$)(n)}function getDrawableElements(e,t){let o=[];for(let n of e)if(n.options.drawTime===t&&o.push({element:n,main:!0}),n.elements&&n.elements.length)for(let e of n.elements)e.options.display&&e.options.drawTime===t&&o.push({element:e});return o}function drawElement(e,t,o,n){let i=n.element;n.main?(invokeHook(o,i,"beforeDraw"),i.draw(e,t),invokeHook(o,i,"afterDraw")):i.draw(e,t)}}}]);