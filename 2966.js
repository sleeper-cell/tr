"use strict";(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([["2966"],{19514:function(e,t,n){n.d(t,{x:()=>useFormattedTransaction});var a=n(71724),r=n(46736),l=n(67294),i=n(95776),o=n(28294),c=n(56335),useFormattedTransaction=function(e){var t=(0,c.E)(e.blockchain.id),n=(0,r.mA)(t.coinId),s=(0,a.N6)(e.assetId);return(0,l.useMemo)(function(){var a,r,l={id:e.hash,from:e.events[0].metadata.from,to:e.events[0].metadata.to,type:e.events[0].type,status:e.status,symbol:null!=(a=null==s?void 0:s.symbol)?a:t.symbol,fee:e.fee,date:e.createdAt,amount:(0,o.SN)(e)};if((0,o.oo)(e.events)){if(!n)return l.type=i.k$.Send,l.amount=Math.abs(Number(l.amount)).toString(),l;var c=n.address,u=e.events[0].metadata,m=u.from,d=u.to,f=m===c?d:m;parseFloat(l.amount)>0?(l.type=i.k$.Receive,l.from=f,l.to=c):(l.type=i.k$.Send,l.from=c,l.to=f,l.amount=Math.abs(Number(l.amount)).toString())}return(0,o.t9)(e.events)&&(l.input=e.events[0].metadata.input),e.nft&&(l.nft={onChainId:e.nft.onChainId,previewImage:e.nft.previewImageURL,originalImage:e.nft.originalMediaURL,name:e.nft.name,collectionName:e.nft.collectionName,collectionId:e.nft.collectionId,blockchain:{iconUrl:t.iconUrl,name:null!=(r=t.displayName)?r:t.name}}),l},[JSON.stringify(e)])}},39684:function(e,t,n){n.r(t),n.d(t,{default:()=>screens_transaction});var a=n(19514),r=n(83832),l=n(79694),i=n(16431),o=n(48444),c=n(58666),s=n(45653),u=n(35670),m=n(86896),d=n(67294),TransactionStatus=function(e){var t=e.status,n=(0,m.Z)().formatMessage;switch(t){case"failed":return d.createElement("div",{className:"flex items-center space-x-1"},d.createElement("div",null,d.createElement(s.x,{testid:"tx-status",theme:u.W5.ERROR},n({id:"generic.failed"}))),d.createElement("div",{className:"text-error"},d.createElement(c.O,{width:15,height:15})));case"pending":return d.createElement("div",{className:"flex items-center space-x-1"},d.createElement("div",null,d.createElement(s.x,{testid:"tx-status",theme:u.W5.WARNING},n({id:"generic.pending"}))));case"confirmed":return d.createElement("div",{className:"flex items-center space-x-1"},d.createElement("div",null,d.createElement(s.x,{testid:"tx-status",theme:u.W5.SUCCESS},n({id:"generic.confirmed"}))),d.createElement("div",{className:"text-textBuy"},d.createElement(o.o,{width:15,height:15})))}},f=n(24200),p=n(96492),h=n(18298),v=n(13858),E=n(28823),b=n(56335),y=n(22252),g=n(95776),x=n(65531),w=n(95096),T=n(87647),_=n(67294),TransactionDetails=function(e){var t,n,o,c=e.transaction,u=e.asset,d=e.totalTransactionFee,k=e.gasPrice,N=(0,m.Z)().formatMessage,C=(0,y.t)().isAdvancedTransactionDataEnabled,I=(0,b.E)(c.blockchain.id),S=(0,a.x)(c),U=S.from,F=S.to,A=S.type,O=S.input,R=S.amount;return _.createElement(p.Wo,null,_.createElement(h.U,{label:N({id:"generic.status"})},_.createElement(TransactionStatus,{status:c.status})),_.createElement(h.U,{label:N({id:"generic.time"})},_.createElement(E.J,{value:c.createdAt})),c.nft&&_.createElement(_.Fragment,null,_.createElement(h.U,{label:N({id:"generic.collection"})},_.createElement(s.x,null,c.nft.collectionName)),_.createElement(h.U,{label:N({id:"generic.token"})+" ID"},_.createElement(s.x,null,c.nft.onChainId))),_.createElement(i.V,{network:I,sender:U}),_.createElement(l.j,{recipient:F,type:A,network:null!=(n=null==(t=c.destination)?void 0:t.blockchain)?n:I}),_.createElement(h.U,{label:N({id:"generic.hash"})},_.createElement("div",{className:"flex space-x-1 items-center"},_.createElement(s.x,null,(0,T.j)({value:c.hash})),_.createElement(f.m,{width:15,height:15,value:c.hash}))),c.memo&&_.createElement(h.U,{label:N({id:"generic.memo"})},_.createElement(s.x,null,isNaN(parseInt(c.memo))?c.memo:parseInt(c.memo))),parseFloat(R)>0&&_.createElement(h.U,{label:N({id:"generic.amount"})},_.createElement(v.l,{testid:"tx-amount",value:R,amountType:w.F6.CRYPTO,currency:c.nft?"":u.symbol,tinyThreshold:10,maxSignificantDecimals:10})),_.createElement(h.U,{label:N({id:"generic.network-fee"})},c.fee.map(function(e,t){return _.createElement(v.l,{testid:"tx-fee-"+t,value:e,amountType:w.F6.CRYPTO,tinyThreshold:10,maxSignificantDecimals:10,currency:(0,x._l)(I,u),key:t+e})})),_.createElement(h.U,{label:N({id:"generic.network"})},_.createElement(s.x,{testid:"tx-network"},null!=(o=I.displayName)?o:I.name)),C&&_.createElement(_.Fragment,null,c.nonce&&_.createElement(h.U,{label:N({id:"generic.nonce"})},_.createElement(s.x,null,parseInt(c.nonce))),c.gasLimit&&_.createElement(h.U,{label:N({id:"generic.gas-limit"})},_.createElement(s.x,null,parseInt(c.gasLimit))),c.gasPrice&&_.createElement(h.U,{label:N({id:"generic.gas-price"})},_.createElement(s.x,null,k," ",I.symbol)),A===g.k$.Contract&&_.createElement(h.U,{label:N({id:"generic.input-data"})},_.createElement("div",{className:"w-2/3 bg-bg3 rounded-lg p-4 text-right overflow-auto"},_.createElement(s.x,null,O)))),_.createElement(r.T,{asset:u,blockchain:I,type:A,amount:c.nft?0:parseFloat(R),fee:d}))},k=n(19568),N=n(67911),C=n(48990),I=n(68481),S=n(33010),U=n(67294);function asyncGeneratorStep(e,t,n,a,r,l,i){try{var o=e[l](i),c=o.value}catch(e){n(e);return}o.done?t(c):Promise.resolve(c).then(a,r)}function _async_to_generator(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function _next(e){asyncGeneratorStep(l,a,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(l,a,r,_next,_throw,"throw",e)}_next(void 0)})}}function _ts_generator(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function verb(e){return function(t){return step([e,t])}}function step(l){if(n)throw TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var TransactionFooter=function(e){var t,n,a,r=e.transaction,l=(0,m.Z)().formatMessage,i=(0,I.s)(r.blockchain.id,r.blockchain.isCustom),o=(0,k.z)().trackAnalytics;if(!i.explorer)return null;var c=(null==(t=i.explorer)?void 0:t.url.endsWith("/"))?i.explorer.url:"".concat(null==(n=i.explorer)?void 0:n.url,"/"),s=null==(a=i.explorer)?void 0:a.txPath,u=s?s.startsWith("/")?s.substring(1):s:"tx/",d="".concat(c).concat(u).concat(r.hash);return U.createElement("div",null,U.createElement(N.z,{onClick:_async_to_generator(function(){return _ts_generator(this,function(e){switch(e.label){case 0:return o({event:C.pG.BLOCKCHAIN_EXPLORER,props:{pageViewResourceType:C.w_.EXTERNAL,explorerUrl:i.explorer.url}}),[4,(0,S.DL)(d)];case 1:return e.sent(),[2]}})})},l({id:"transaction.btn-view-on-explorer"})))},F=n(71393),A=n(78729),O=n(89438),R=n(83388),M=n(28294),P=n(55942),D=n(67294),L=n(67294),TransactionHeader=function(e){var t,n,a,r,l=e.asset,i=e.transaction,o=e.totalTransactionFee,c=(0,I.s)(i.blockchain.id,i.blockchain.isCustom),s=(0,R.C)(l),m=(0,O.u)(),d=m.currency,f=m.baseCurrencyType,p=i.nft,h=(0,D.useMemo)(function(){return Number((0,M.SN)(i,l))},[i,l]),E=(null==s?void 0:s.price)?(0,P.Z)(p?o:h).mul(null!=(a=s.price)?a:0).toNumber():null;return L.createElement("div",{className:"flex flex-col items-center space-y-1"},L.createElement(F.C,{name:p?null!=(r=null==(t=i.nft)?void 0:t.name)?r:"":l.name,network:l.address?c:void 0,src:p?null==(n=i.nft)?void 0:n.previewImageURL.url:l.iconUrl,size:A.m.XLARGE}),0===h?null:L.createElement(v.l,{textType:u.Xi.HEADER,amountType:w.F6.CRYPTO,value:h}),0===E?null:L.createElement(v.l,{textType:u.Xi.SUBTITLE,theme:u.W5.SECONDARY,amountType:f,value:E,currency:d}))},j=n(89250),G=n(55778),useTransaction=function(e){var t=(0,G.n)();return(0,D.useMemo)(function(){return t.find(function(t){return t.hash===e})},[e,t])},W=n(71724),B=n(20763),X=n(80003),Z=n(56102),$=n(67294);let screens_transaction=function(){var e=(0,j.UO)().id;if(!e)throw Error('Transaction id invalid "'.concat(e,'" is invalid.'));var t=useTransaction(e);if(!t)throw Error("Could not find transaction with id ".concat(e));var n=(0,a.x)(t).type,r=(0,b.E)(t.blockchain.id),l=(0,I.s)(r.id,r.isCustom),i=(0,y.t)().isAdvancedTransactionDataEnabled;if(!l)throw Error('Could not find network with chain ID "'.concat(r.id,'".'));var o=(0,W.N6)(t.assetId),c=(0,D.useMemo)(function(){var e;return Z.bM(null!=(e=t.gasPrice)?e:0,"ether")},[t]),s=(0,D.useMemo)(function(){return t.fee.reduce(function(e,t){var n;return parseFloat(null!=(n=String(e))?n:"0")+parseFloat(null!=t?t:"0")},0)+(i?parseFloat(c):0)},[t.fee,c]);if(!o)throw Error('Could not find asset with assetId: "'.concat(t.assetId,'".'));(0,B.d)({event:C.pG.TRANSACTION,props:{blockchainName:r.name,blockchainType:r.isCustom?X.F.CUSTOM:X.F.MAIN,blockchainChainId:r.chainId}});var u=(0,m.Z)().formatMessage,d=(0,j.s0)();return $.createElement(p._z,null,$.createElement(p.mr,{backAction:function(){return d(-1)},title:u({id:"transaction.".concat(n,".title")},{assetSymbol:o.symbol})}),$.createElement(p.xV,null,$.createElement(TransactionHeader,{transaction:t,asset:o,totalTransactionFee:s}),$.createElement(TransactionDetails,{transaction:t,asset:o,totalTransactionFee:s,gasPrice:c}),$.createElement(TransactionFooter,{transaction:t})))}},28823:function(e,t,n){n.d(t,{J:()=>FormattedDate});var a=n(45653),r=n(61157),l=n(67294);function _object_without_properties(e,t){if(null==e)return{};var n,a,r=_object_without_properties_loose(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _object_without_properties_loose(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}var FormattedDate=function(e){var t=e.value,n=e.inline,i=_object_without_properties(e,["value","inline"]),o=l.createElement(r.Ji,{value:t,month:"short",day:"2-digit",hourCycle:"h23",hour:"numeric",minute:"2-digit",year:"numeric"});return void 0!==n&&n?o:l.createElement(a.x,i,o)}},56335:function(e,t,n){n.d(t,{E:()=>useAnyBlockchain});var a=n(67294),r=n(12820),l=n(96786);function useAnyBlockchain(e){var t=(0,r.R)(),n=(0,l.$)();return(0,a.useMemo)(function(){var a;return null!=(a=t[e])?a:n[e]},[e,t,n])}},55778:function(e,t,n){n.d(t,{n:()=>useTransactions});var a=n(43057),r=n(67294),useTransactions=function(){var e,t=null!=(e=(0,a.CG)(function(e){return e.tx.itemsPerWallet[e.wallet.walletId]}))?e:[];return(0,r.useMemo)(function(){return t.sort(function(e,t){return t.createdAt-e.createdAt}),t},[t])}}}]);